import merge from "deepmerge";
import { useTheme } from "@material-ui/core/styles";
import { useLayoutCtx } from "../contexts";
import InsetSidebarCompiler from "../compilers/InsetSidebarCompiler";
import { createBreakpointStyles, createHiddenStyles } from "../utils";
export var useInsetSidebar = function useInsetSidebar(id) {
  var _useLayoutCtx = useLayoutCtx(),
      _useLayoutCtx$data = _useLayoutCtx.data,
      insetSidebar = _useLayoutCtx$data.insetSidebar,
      header = _useLayoutCtx$data.header;

  var _useTheme = useTheme(),
      breakpoints = _useTheme.breakpoints;

  var compiler = InsetSidebarCompiler(insetSidebar, header);

  var _compiler$getResultSt = compiler.getResultStyle(id),
      root = _compiler$getResultSt.root,
      body = _compiler$getResultSt.body;

  var variant = compiler.getVariant(id); // value won't change when viewport changes

  var hiddenRootStyles = createHiddenStyles(root, [], breakpoints);
  var hiddenBodyStyles = createHiddenStyles(body, [], breakpoints);
  return {
    variant: variant,
    insetSidebar: insetSidebar,
    rootStyles: merge(createBreakpointStyles(root, breakpoints), hiddenRootStyles),
    bodyStyles: merge(createBreakpointStyles(body, breakpoints), hiddenBodyStyles)
  };
};
export default useInsetSidebar;