"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _createBreakpoints = require("@material-ui/core/styles/createBreakpoints");

var _sidebarChecker = require("../utils/sidebarChecker");

var _utils = require("../utils");

var _default = function _default(edgeSidebar) {
  return {
    getHiddenBreakpoints: function getHiddenBreakpoints(sidebarId) {
      if ((0, _utils.get)(edgeSidebar, ['hiddenById', sidebarId]) === _createBreakpoints.keys) {
        // hidden at all breakpoints if true
        return _createBreakpoints.keys;
      }

      var result = [];
      var found = false;

      _createBreakpoints.keys.forEach(function (bp) {
        var config = (0, _utils.get)(edgeSidebar.configMapById, [sidebarId, bp]);

        if ((0, _sidebarChecker.isCollapsibleSidebarConfig)(config)) {
          if ((0, _utils.get)(config, 'collapsible') && !(0, _utils.get)(config, 'hidden')) {
            found = true;
          } else {
            found = false;
            result.push(bp);
          }
        } else {
          if (!found) {
            found = false;
            result.push(bp);
          }
        }
      });

      return result;
    }
  };
};

exports["default"] = _default;