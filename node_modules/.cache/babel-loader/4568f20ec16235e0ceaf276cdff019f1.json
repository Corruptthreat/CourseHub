{"ast":null,"code":"import _slicedToArray from\"/home/sudo-byte/CourseHub-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import*as actions from\"../../store/actions\";import{useSnackbar}from\"notistack\";import{Typography,useMediaQuery,Tooltip}from\"@material-ui/core\";import cx from\"clsx\";import{makeStyles}from\"@material-ui/core/styles\";import Box from\"@material-ui/core/Box\";import Card from\"@material-ui/core/Card\";import CardContent from\"@material-ui/core/CardContent\";import Avatar from\"@material-ui/core/Avatar\";import{useFadedShadowStyles}from\"@mui-treasury/styles/shadow/faded\";import{useGutterBorderedGridStyles}from\"@mui-treasury/styles/grid/gutterBordered\";import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import ListItemAvatar from\"@material-ui/core/ListItemAvatar\";import ListItemSecondaryAction from\"@material-ui/core/ListItemSecondaryAction\";import ListItemText from\"@material-ui/core/ListItemText\";import IconButton from\"@material-ui/core/IconButton\";import FolderIcon from\"@material-ui/icons/Folder\";import FolderSharedIcon from\"@material-ui/icons/FolderShared\";import BlockIcon from\"@material-ui/icons/Block\";import ThumbUpAltIcon from\"@material-ui/icons/ThumbUpAlt\";import ExpansionPanel from\"@material-ui/core/ExpansionPanel\";import ExpansionPanelDetails from\"@material-ui/core/ExpansionPanelDetails\";import ExpansionPanelSummary from\"@material-ui/core/ExpansionPanelSummary\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import AddUsers from\"./AddUsers\";import Spinner from\"../UI/Spinner/Spinner\";var useStyles=makeStyles(function(_ref){var palette=_ref.palette,typography=_ref.typography;return{card:{borderRadius:12,minWidth:256,textAlign:\"center\"},avatar:{width:60,height:60,margin:\"auto\"},heading:{fontSize:18,fontWeight:\"bold\",letterSpacing:\"0.5px\",marginTop:8,marginBottom:0},subheader:{fontSize:14,color:palette.grey[500],marginBottom:\"0.875em\"},statLabel:{fontSize:12,color:palette.grey[500],fontWeight:500,fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',margin:0},statValue:{fontSize:20,fontWeight:\"bold\",marginBottom:4,letterSpacing:\"1px\"},expanseHeading:{fontSize:typography.pxToRem(15),flexBasis:\"33.33%\",flexShrink:0},secondaryHeading:{fontSize:typography.pxToRem(15),color:palette.text.secondary}};});var UserDetails=function UserDetails(props){var styles=useStyles();var matches=useMediaQuery(\"(min-width:1050px)\");var shadowStyles=useFadedShadowStyles();var borderedGridStyles=useGutterBorderedGridStyles({borderColor:\"rgba(0, 0, 0, 0.08)\",height:\"50%\"});var success=props.success,error=props.error,loading=props.loading,selectedUser=props.selectedUser,avatarIndex=props.avatarIndex,coursesPendingList=props.coursesPendingList,coursesApprovedList=props.coursesApprovedList,coursesNoneEnrollList=props.coursesNoneEnrollList;var onApproveCoursePending=props.onApproveCoursePending,onDisapproveCourse=props.onDisapproveCourse,onMessageReset=props.onMessageReset;var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var handleChange=function handleChange(panel){return function(event,isExpanded){setExpanded(isExpanded?panel:false);};};useEffect(function(){if(error){enqueueSnackbar(error,{variant:\"error\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"}});}else if(success){enqueueSnackbar(success,{variant:\"success\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"}});}onMessageReset();},[error,success,enqueueSnackbar,onMessageReset]);var coursesPendingRender;if(coursesPendingList&&coursesPendingList.length){coursesPendingRender=/*#__PURE__*/React.createElement(Box,{p:2,width:\"100%\",className:borderedGridStyles.item},/*#__PURE__*/React.createElement(List,{dense:true},coursesPendingList.map(function(course,index){return/*#__PURE__*/React.createElement(ListItem,{key:\"\".concat(course.maKhoaHoc).concat(index)},/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,null,/*#__PURE__*/React.createElement(FolderIcon,null))),/*#__PURE__*/React.createElement(ListItemText,{primary:course.tenKhoaHoc,style:{paddingRight:60}}),/*#__PURE__*/React.createElement(ListItemSecondaryAction,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"allow\",onClick:function onClick(){return onApproveCoursePending(course.maKhoaHoc,selectedUser);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Approve\",placement:\"left\"},/*#__PURE__*/React.createElement(ThumbUpAltIcon,null))),/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"quickAllow\",onClick:function onClick(){return onDisapproveCourse(course.maKhoaHoc,selectedUser);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Ban\",placement:\"right\"},/*#__PURE__*/React.createElement(BlockIcon,null)))));})));}var coursesApprovedRender;if(coursesApprovedList&&coursesApprovedList.length){coursesApprovedRender=/*#__PURE__*/React.createElement(Box,{p:2,width:\"100%\",className:borderedGridStyles.item},/*#__PURE__*/React.createElement(List,{dense:true},coursesApprovedList.map(function(course,index){return/*#__PURE__*/React.createElement(ListItem,{key:\"\".concat(course.maKhoaHoc).concat(index)},/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,null,/*#__PURE__*/React.createElement(FolderSharedIcon,null))),/*#__PURE__*/React.createElement(ListItemText,{primary:course.tenKhoaHoc}),/*#__PURE__*/React.createElement(ListItemSecondaryAction,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"quickAllow\",onClick:function onClick(){return onDisapproveCourse(course.maKhoaHoc,selectedUser);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Ban\",placement:\"right\"},/*#__PURE__*/React.createElement(BlockIcon,null)))));})));}var coursesNoneEnrollListRender;if(coursesNoneEnrollList&&coursesNoneEnrollList.length){coursesNoneEnrollListRender=/*#__PURE__*/React.createElement(Box,{p:2,width:\"100%\",className:borderedGridStyles.item},/*#__PURE__*/React.createElement(List,{dense:true},coursesNoneEnrollList.map(function(course,index){return/*#__PURE__*/React.createElement(ListItem,{key:\"\".concat(course.maKhoaHoc).concat(index)},/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,null,/*#__PURE__*/React.createElement(FolderIcon,null))),/*#__PURE__*/React.createElement(ListItemText,{primary:course.tenKhoaHoc}),/*#__PURE__*/React.createElement(ListItemSecondaryAction,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"block\",onClick:function onClick(){return onApproveCoursePending(course.maKhoaHoc,selectedUser);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Approve\",placement:\"right\"},/*#__PURE__*/React.createElement(ThumbUpAltIcon,null)))));})));}return/*#__PURE__*/React.createElement(Card,{className:cx(styles.card,shadowStyles.root)},/*#__PURE__*/React.createElement(Box,{display:\"flex\",alignItems:\"center\",flexWrap:matches?\"nowrap\":\"wrap\"},/*#__PURE__*/React.createElement(Box,{flexGrow:1,m:2},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Avatar,{className:styles.avatar,src:\"https://i.pravatar.cc/150?img=\".concat(avatarIndex+1)}),/*#__PURE__*/React.createElement(\"h3\",{className:styles.heading},selectedUser.taiKhoan)),/*#__PURE__*/React.createElement(ExpansionPanel,{expanded:expanded===\"panel1\",onChange:handleChange(\"panel1\"),disabled:loading},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1bh-content\",id:\"panel1bh-header\"},/*#__PURE__*/React.createElement(Typography,{className:styles.expanseHeading},\"Pending Courses\"),/*#__PURE__*/React.createElement(Typography,{className:styles.secondaryHeading},\"Need approve to allow the user accessing\")),/*#__PURE__*/React.createElement(ExpansionPanelDetails,null,coursesPendingRender)),/*#__PURE__*/React.createElement(ExpansionPanel,{expanded:expanded===\"panel2\",onChange:handleChange(\"panel2\"),disabled:loading},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel2bh-content\",id:\"panel2bh-header\"},/*#__PURE__*/React.createElement(Typography,{className:styles.expanseHeading},\"Approved Courses\"),/*#__PURE__*/React.createElement(Typography,{className:styles.secondaryHeading},\"The courses have already accessed by user\")),/*#__PURE__*/React.createElement(ExpansionPanelDetails,null,coursesApprovedRender)),/*#__PURE__*/React.createElement(ExpansionPanel,{expanded:expanded===\"panel3\",onChange:handleChange(\"panel3\"),disabled:loading},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel3bh-content\",id:\"panel3bh-header\"},/*#__PURE__*/React.createElement(Typography,{className:styles.expanseHeading},\"Available courses\"),/*#__PURE__*/React.createElement(Typography,{className:styles.secondaryHeading},\"Registing a course quickly for user\")),/*#__PURE__*/React.createElement(ExpansionPanelDetails,null,coursesNoneEnrollListRender)),loading?/*#__PURE__*/React.createElement(Spinner,null):null),/*#__PURE__*/React.createElement(Box,{flexGrow:1,alignSelf:\"flex-start\",minWidth:250,m:2},/*#__PURE__*/React.createElement(AddUsers,{selectedUser:selectedUser,preview:true}))));};var mapStateToProps=function mapStateToProps(state){return{error:state.usersManager.error,success:state.usersManager.success,loading:state.usersManager.loading,selectedUser:state.usersManager.selectedUser,avatarIndex:state.usersManager.avatarIndex,coursesPendingList:state.usersManager.coursesPendingList,coursesApprovedList:state.usersManager.coursesApprovedList,coursesNoneEnrollList:state.usersManager.coursesNoneEnrollList};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onApproveCoursePending:function onApproveCoursePending(courseId,selectedUser){return dispatch(actions.approveCoursePending(courseId,selectedUser));},onDisapproveCourse:function onDisapproveCourse(courseId,selectedUser){return dispatch(actions.disapproveCourse(courseId,selectedUser));},onMessageReset:function onMessageReset(){return dispatch(actions.clearMessage());}};};export default connect(mapStateToProps,mapDispatchToProps)(UserDetails);","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/components/Users/UserDetails.js"],"names":["React","useEffect","useState","connect","actions","useSnackbar","Typography","useMediaQuery","Tooltip","cx","makeStyles","Box","Card","CardContent","Avatar","useFadedShadowStyles","useGutterBorderedGridStyles","List","ListItem","ListItemAvatar","ListItemSecondaryAction","ListItemText","IconButton","FolderIcon","FolderSharedIcon","BlockIcon","ThumbUpAltIcon","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","ExpandMoreIcon","AddUsers","Spinner","useStyles","palette","typography","card","borderRadius","minWidth","textAlign","avatar","width","height","margin","heading","fontSize","fontWeight","letterSpacing","marginTop","marginBottom","subheader","color","grey","statLabel","fontFamily","statValue","expanseHeading","pxToRem","flexBasis","flexShrink","secondaryHeading","text","secondary","UserDetails","props","styles","matches","shadowStyles","borderedGridStyles","borderColor","success","error","loading","selectedUser","avatarIndex","coursesPendingList","coursesApprovedList","coursesNoneEnrollList","onApproveCoursePending","onDisapproveCourse","onMessageReset","enqueueSnackbar","expanded","setExpanded","handleChange","panel","event","isExpanded","variant","anchorOrigin","vertical","horizontal","coursesPendingRender","length","item","map","course","index","maKhoaHoc","tenKhoaHoc","paddingRight","coursesApprovedRender","coursesNoneEnrollListRender","root","taiKhoan","mapStateToProps","state","usersManager","mapDispatchToProps","dispatch","courseId","approveCoursePending","disapproveCourse","clearMessage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../store/actions\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Typography, useMediaQuery, Tooltip } from \"@material-ui/core\";\r\n\r\nimport cx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { useFadedShadowStyles } from \"@mui-treasury/styles/shadow/faded\";\r\nimport { useGutterBorderedGridStyles } from \"@mui-treasury/styles/grid/gutterBordered\";\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FolderIcon from \"@material-ui/icons/Folder\";\r\nimport FolderSharedIcon from \"@material-ui/icons/FolderShared\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\n\r\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\r\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\r\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport AddUsers from \"./AddUsers\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\n\r\nconst useStyles = makeStyles(({ palette, typography }) => ({\r\n  card: {\r\n    borderRadius: 12,\r\n    minWidth: 256,\r\n    textAlign: \"center\",\r\n  },\r\n  avatar: {\r\n    width: 60,\r\n    height: 60,\r\n    margin: \"auto\",\r\n  },\r\n  heading: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    letterSpacing: \"0.5px\",\r\n    marginTop: 8,\r\n    marginBottom: 0,\r\n  },\r\n  subheader: {\r\n    fontSize: 14,\r\n    color: palette.grey[500],\r\n    marginBottom: \"0.875em\",\r\n  },\r\n  statLabel: {\r\n    fontSize: 12,\r\n    color: palette.grey[500],\r\n    fontWeight: 500,\r\n    fontFamily:\r\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\r\n    margin: 0,\r\n  },\r\n  statValue: {\r\n    fontSize: 20,\r\n    fontWeight: \"bold\",\r\n    marginBottom: 4,\r\n    letterSpacing: \"1px\",\r\n  },\r\n  expanseHeading: {\r\n    fontSize: typography.pxToRem(15),\r\n    flexBasis: \"33.33%\",\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: typography.pxToRem(15),\r\n    color: palette.text.secondary,\r\n  },\r\n}));\r\n\r\nconst UserDetails = (props) => {\r\n  const styles = useStyles();\r\n  const matches = useMediaQuery(\"(min-width:1050px)\");\r\n  const shadowStyles = useFadedShadowStyles();\r\n  const borderedGridStyles = useGutterBorderedGridStyles({\r\n    borderColor: \"rgba(0, 0, 0, 0.08)\",\r\n    height: \"50%\",\r\n  });\r\n\r\n  const {\r\n    success,\r\n    error,\r\n    loading,\r\n    selectedUser,\r\n    avatarIndex,\r\n    coursesPendingList,\r\n    coursesApprovedList,\r\n    coursesNoneEnrollList,\r\n  } = props;\r\n  const { onApproveCoursePending, onDisapproveCourse, onMessageReset } = props;\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleChange = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      enqueueSnackbar(error, {\r\n        variant: \"error\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    } else if (success) {\r\n      enqueueSnackbar(success, {\r\n        variant: \"success\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    }\r\n    onMessageReset();\r\n  }, [error, success, enqueueSnackbar, onMessageReset]);\r\n\r\n  let coursesPendingRender;\r\n  if (coursesPendingList && coursesPendingList.length) {\r\n    coursesPendingRender = (\r\n      <Box p={2} width={\"100%\"} className={borderedGridStyles.item}>\r\n        <List dense>\r\n          {coursesPendingList.map((course, index) => (\r\n            <ListItem key={`${course.maKhoaHoc}${index}`}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <FolderIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={course.tenKhoaHoc}\r\n                style={{ paddingRight: 60 }}\r\n              />\r\n              <ListItemSecondaryAction>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"allow\"\r\n                  onClick={() =>\r\n                    onApproveCoursePending(course.maKhoaHoc, selectedUser)\r\n                  }\r\n                >\r\n                  <Tooltip title=\"Approve\" placement=\"left\">\r\n                    <ThumbUpAltIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"quickAllow\"\r\n                  onClick={() =>\r\n                    onDisapproveCourse(course.maKhoaHoc, selectedUser)\r\n                  }\r\n                >\r\n                  <Tooltip title=\"Ban\" placement=\"right\">\r\n                    <BlockIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  let coursesApprovedRender;\r\n  if (coursesApprovedList && coursesApprovedList.length) {\r\n    coursesApprovedRender = (\r\n      <Box p={2} width={\"100%\"} className={borderedGridStyles.item}>\r\n        <List dense>\r\n          {coursesApprovedList.map((course, index) => (\r\n            <ListItem key={`${course.maKhoaHoc}${index}`}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <FolderSharedIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={course.tenKhoaHoc} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"quickAllow\"\r\n                  onClick={() =>\r\n                    onDisapproveCourse(course.maKhoaHoc, selectedUser)\r\n                  }\r\n                >\r\n                  <Tooltip title=\"Ban\" placement=\"right\">\r\n                    <BlockIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  let coursesNoneEnrollListRender;\r\n  if (coursesNoneEnrollList && coursesNoneEnrollList.length) {\r\n    coursesNoneEnrollListRender = (\r\n      <Box p={2} width={\"100%\"} className={borderedGridStyles.item}>\r\n        <List dense>\r\n          {coursesNoneEnrollList.map((course, index) => (\r\n            <ListItem key={`${course.maKhoaHoc}${index}`}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <FolderIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={course.tenKhoaHoc} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"block\"\r\n                  onClick={() =>\r\n                    onApproveCoursePending(course.maKhoaHoc, selectedUser)\r\n                  }\r\n                >\r\n                  <Tooltip title=\"Approve\" placement=\"right\">\r\n                    <ThumbUpAltIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className={cx(styles.card, shadowStyles.root)}>\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        flexWrap={matches ? \"nowrap\" : \"wrap\"}\r\n      >\r\n        <Box flexGrow={1} m={2}>\r\n          <CardContent>\r\n            <Avatar\r\n              className={styles.avatar}\r\n              src={`https://i.pravatar.cc/150?img=${avatarIndex + 1}`}\r\n            />\r\n            <h3 className={styles.heading}>{selectedUser.taiKhoan}</h3>\r\n          </CardContent>\r\n\r\n          <ExpansionPanel\r\n            expanded={expanded === \"panel1\"}\r\n            onChange={handleChange(\"panel1\")}\r\n            disabled={loading}\r\n          >\r\n            <ExpansionPanelSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel1bh-content\"\r\n              id=\"panel1bh-header\"\r\n            >\r\n              <Typography className={styles.expanseHeading}>\r\n                Pending Courses\r\n              </Typography>\r\n              <Typography className={styles.secondaryHeading}>\r\n                Need approve to allow the user accessing\r\n              </Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>\r\n              {coursesPendingRender}\r\n            </ExpansionPanelDetails>\r\n          </ExpansionPanel>\r\n\r\n          <ExpansionPanel\r\n            expanded={expanded === \"panel2\"}\r\n            onChange={handleChange(\"panel2\")}\r\n            disabled={loading}\r\n          >\r\n            <ExpansionPanelSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel2bh-content\"\r\n              id=\"panel2bh-header\"\r\n            >\r\n              <Typography className={styles.expanseHeading}>\r\n                Approved Courses\r\n              </Typography>\r\n              <Typography className={styles.secondaryHeading}>\r\n                The courses have already accessed by user\r\n              </Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>\r\n              {coursesApprovedRender}\r\n            </ExpansionPanelDetails>\r\n          </ExpansionPanel>\r\n\r\n          <ExpansionPanel\r\n            expanded={expanded === \"panel3\"}\r\n            onChange={handleChange(\"panel3\")}\r\n            disabled={loading}\r\n          >\r\n            <ExpansionPanelSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel3bh-content\"\r\n              id=\"panel3bh-header\"\r\n            >\r\n              <Typography className={styles.expanseHeading}>\r\n                Available courses\r\n              </Typography>\r\n              <Typography className={styles.secondaryHeading}>\r\n                Registing a course quickly for user\r\n              </Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>\r\n              {coursesNoneEnrollListRender}\r\n            </ExpansionPanelDetails>\r\n          </ExpansionPanel>\r\n          {loading ? <Spinner /> : null}\r\n        </Box>\r\n\r\n        <Box flexGrow={1} alignSelf=\"flex-start\" minWidth={250} m={2}>\r\n          <AddUsers selectedUser={selectedUser} preview={true} />\r\n        </Box>\r\n      </Box>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    error: state.usersManager.error,\r\n    success: state.usersManager.success,\r\n    loading: state.usersManager.loading,\r\n    selectedUser: state.usersManager.selectedUser,\r\n    avatarIndex: state.usersManager.avatarIndex,\r\n    coursesPendingList: state.usersManager.coursesPendingList,\r\n    coursesApprovedList: state.usersManager.coursesApprovedList,\r\n    coursesNoneEnrollList: state.usersManager.coursesNoneEnrollList,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onApproveCoursePending: (courseId, selectedUser) =>\r\n      dispatch(actions.approveCoursePending(courseId, selectedUser)),\r\n    onDisapproveCourse: (courseId, selectedUser) =>\r\n      dispatch(actions.disapproveCourse(courseId, selectedUser)),\r\n    onMessageReset: () => dispatch(actions.clearMessage()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserDetails);\r\n"]},"metadata":{},"sourceType":"module"}