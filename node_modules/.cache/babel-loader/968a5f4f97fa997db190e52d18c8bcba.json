{"ast":null,"code":"import React,{useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import*as actions from\"../../store/actions\";import{connect}from\"react-redux\";import{useSnackbar}from\"notistack\";import{Card,CardMedia,CardContent,CardActions,CardActionArea,IconButton,Typography,Button,Tooltip}from\"@material-ui/core\";import{Edit,Delete}from\"@material-ui/icons\";var useStyles=makeStyles(function(theme){return{root:{width:155},title:{height:42,overflow:\"hidden\",textOverflow:\"ellipsis\"},media:{height:0,paddingTop:\"56.25%\"// 16:9\n},edit:{marginLeft:\"auto\"}};});var CourseCard=function CourseCard(props){var classes=useStyles();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var course=props.course,tabIndex=props.tabIndex,group=props.group,courseType=props.courseType,error=props.error,success=props.success;var onFetchUsersClick=props.onFetchUsersClick,onEditCourseClick=props.onEditCourseClick,onFetchUserListOfCourse=props.onFetchUserListOfCourse,onFetchUserPendingListOfCourse=props.onFetchUserPendingListOfCourse,onFetchUserRefuseListOfCourse=props.onFetchUserRefuseListOfCourse,onFetchCourseIndex=props.onFetchCourseIndex,onDeleteCourse=props.onDeleteCourse;useEffect(function(){if(error){enqueueSnackbar(error,{variant:\"error\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"}});}else if(success){enqueueSnackbar(success,{variant:\"success\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"}});}},[enqueueSnackbar,error,success]);var handCourseInfo=function handCourseInfo(course){onFetchUsersClick(course,tabIndex);onFetchUserListOfCourse(course);onFetchUserPendingListOfCourse(course);onFetchUserRefuseListOfCourse(course);};var handCourseEdit=function handCourseEdit(course){onFetchCourseIndex();onFetchUsersClick(course);onEditCourseClick(course,tabIndex);};var handleDeleteConfirm=function handleDeleteConfirm(course){enqueueSnackbar(\"Are you sure to delete \".concat(course.tenKhoaHoc,\"?\"),{variant:\"info\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},action:/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"contained\",onClick:function onClick(){return onDeleteCourse(course,null,group,courseType);},startIcon:/*#__PURE__*/React.createElement(Delete,null)},\"Delete\")});};return/*#__PURE__*/React.createElement(Card,{className:classes.root},/*#__PURE__*/React.createElement(CardActionArea,{onClick:function onClick(){return handCourseInfo(course);}},/*#__PURE__*/React.createElement(CardMedia,{className:classes.media,image:course.hinhAnh,title:course.tenKhoaHoc}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{className:classes.title,variant:\"subtitle2\",component:\"h5\"// noWrap\n},course.tenKhoaHoc))),/*#__PURE__*/React.createElement(CardActions,{disableSpacing:true},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"delete\",onClick:function onClick(){return handleDeleteConfirm(course);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Delete\",placement:\"right\"},/*#__PURE__*/React.createElement(Delete,null))),/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"edit\",className:classes.edit,onClick:function onClick(){return handCourseEdit(course);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Edit\",placement:\"left\"},/*#__PURE__*/React.createElement(Edit,null)))));};var mapStateToProps=function mapStateToProps(state){return{group:state.auth.group,courseType:state.coursesManager.courseType,courseList:state.coursesManager.courseList,tabIndex:state.coursesManager.tabIndex,error:state.coursesManager.error,success:state.coursesManager.success};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onFetchCourseIndex:function onFetchCourseIndex(){return dispatch(actions.fetchCourseIndex());},onFetchUsersClick:function onFetchUsersClick(selectedCourse,tabIndex){return dispatch(actions.fetchUsersClick(selectedCourse,tabIndex));},onEditCourseClick:function onEditCourseClick(selectedCourse,tabIndex){return dispatch(actions.editCourseClick(selectedCourse,tabIndex));},onFetchUserListOfCourse:function onFetchUserListOfCourse(selectedCourse){return dispatch(actions.fetchUserListOfCourse(selectedCourse));},onFetchUserPendingListOfCourse:function onFetchUserPendingListOfCourse(selectedCourse){return dispatch(actions.fetchUserPendingListOfCourse(selectedCourse));},onFetchUserRefuseListOfCourse:function onFetchUserRefuseListOfCourse(selectedCourse){return dispatch(actions.fetchUserRefuseListOfCourse(selectedCourse));},onDeleteCourse:function onDeleteCourse(selectedCourse,keyWord,group,courseType){return dispatch(actions.deleteCourse(selectedCourse,keyWord,group,courseType));}};};export default connect(mapStateToProps,mapDispatchToProps)(CourseCard);","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/components/Courses/CourseCardItem.js"],"names":["React","useEffect","makeStyles","actions","connect","useSnackbar","Card","CardMedia","CardContent","CardActions","CardActionArea","IconButton","Typography","Button","Tooltip","Edit","Delete","useStyles","theme","root","width","title","height","overflow","textOverflow","media","paddingTop","edit","marginLeft","CourseCard","props","classes","enqueueSnackbar","course","tabIndex","group","courseType","error","success","onFetchUsersClick","onEditCourseClick","onFetchUserListOfCourse","onFetchUserPendingListOfCourse","onFetchUserRefuseListOfCourse","onFetchCourseIndex","onDeleteCourse","variant","anchorOrigin","vertical","horizontal","handCourseInfo","handCourseEdit","handleDeleteConfirm","tenKhoaHoc","action","hinhAnh","mapStateToProps","state","auth","coursesManager","courseList","mapDispatchToProps","dispatch","fetchCourseIndex","selectedCourse","fetchUsersClick","editCourseClick","fetchUserListOfCourse","fetchUserPendingListOfCourse","fetchUserRefuseListOfCourse","keyWord","deleteCourse"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport * as actions from \"../../store/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport {\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n  IconButton,\r\n  Typography,\r\n  Button,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\n\r\nimport { Edit, Delete } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 155,\r\n  },\r\n  title: {\r\n    height: 42,\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  edit: {\r\n    marginLeft: \"auto\",\r\n  },\r\n}));\r\n\r\nconst CourseCard = (props) => {\r\n  const classes = useStyles();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const { course, tabIndex, group, courseType, error, success } = props;\r\n  const {\r\n    onFetchUsersClick,\r\n    onEditCourseClick,\r\n    onFetchUserListOfCourse,\r\n    onFetchUserPendingListOfCourse,\r\n    onFetchUserRefuseListOfCourse,\r\n    onFetchCourseIndex,\r\n    onDeleteCourse,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      enqueueSnackbar(error, {\r\n        variant: \"error\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    } else if (success) {\r\n      enqueueSnackbar(success, {\r\n        variant: \"success\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    }\r\n  }, [enqueueSnackbar, error, success]);\r\n\r\n  const handCourseInfo = (course) => {\r\n    onFetchUsersClick(course, tabIndex);\r\n    onFetchUserListOfCourse(course);\r\n    onFetchUserPendingListOfCourse(course);\r\n    onFetchUserRefuseListOfCourse(course);\r\n  };\r\n\r\n  const handCourseEdit = (course) => {\r\n    onFetchCourseIndex();\r\n    onFetchUsersClick(course);\r\n    onEditCourseClick(course, tabIndex);\r\n  };\r\n\r\n  const handleDeleteConfirm = (course) => {\r\n    enqueueSnackbar(`Are you sure to delete ${course.tenKhoaHoc}?`, {\r\n      variant: \"info\",\r\n      anchorOrigin: {\r\n        vertical: \"bottom\",\r\n        horizontal: \"right\",\r\n      },\r\n      action: (\r\n        <Button\r\n          size=\"small\"\r\n          variant=\"contained\"\r\n          onClick={() => onDeleteCourse(course, null, group, courseType)}\r\n          startIcon={<Delete />}\r\n        >\r\n          Delete\r\n        </Button>\r\n      ),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={() => handCourseInfo(course)}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={course.hinhAnh}\r\n          title={course.tenKhoaHoc}\r\n        />\r\n        <CardContent>\r\n          <Typography\r\n            className={classes.title}\r\n            variant=\"subtitle2\"\r\n            component=\"h5\"\r\n            // noWrap\r\n          >\r\n            {course.tenKhoaHoc}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n\r\n      <CardActions disableSpacing>\r\n        <IconButton\r\n          aria-label=\"delete\"\r\n          onClick={() => handleDeleteConfirm(course)}\r\n        >\r\n          <Tooltip title=\"Delete\" placement=\"right\">\r\n            <Delete />\r\n          </Tooltip>\r\n        </IconButton>\r\n\r\n        <IconButton\r\n          aria-label=\"edit\"\r\n          className={classes.edit}\r\n          onClick={() => handCourseEdit(course)}\r\n        >\r\n          <Tooltip title=\"Edit\" placement=\"left\">\r\n            <Edit />\r\n          </Tooltip>\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    group: state.auth.group,\r\n    courseType: state.coursesManager.courseType,\r\n    courseList: state.coursesManager.courseList,\r\n    tabIndex: state.coursesManager.tabIndex,\r\n    error: state.coursesManager.error,\r\n    success: state.coursesManager.success,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFetchCourseIndex: () => dispatch(actions.fetchCourseIndex()),\r\n    onFetchUsersClick: (selectedCourse, tabIndex) =>\r\n      dispatch(actions.fetchUsersClick(selectedCourse, tabIndex)),\r\n    onEditCourseClick: (selectedCourse, tabIndex) =>\r\n      dispatch(actions.editCourseClick(selectedCourse, tabIndex)),\r\n    onFetchUserListOfCourse: (selectedCourse) =>\r\n      dispatch(actions.fetchUserListOfCourse(selectedCourse)),\r\n    onFetchUserPendingListOfCourse: (selectedCourse) =>\r\n      dispatch(actions.fetchUserPendingListOfCourse(selectedCourse)),\r\n    onFetchUserRefuseListOfCourse: (selectedCourse) =>\r\n      dispatch(actions.fetchUserRefuseListOfCourse(selectedCourse)),\r\n    onDeleteCourse: (selectedCourse, keyWord, group, courseType) =>\r\n      dispatch(\r\n        actions.deleteCourse(selectedCourse, keyWord, group, courseType)\r\n      ),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseCard);\r\n"]},"metadata":{},"sourceType":"module"}