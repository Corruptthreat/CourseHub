{"ast":null,"code":"import axios from \"../../axios\";\nimport * as actionTypes from \"./actionTypes\";\nexport const fetchInfoClick = (selectedUser, tabIndex, avatarIndex) => {\n  return {\n    type: actionTypes.FETCH_INFO_CLICK,\n    tabIndex: tabIndex && Math.abs(tabIndex) !== 1 ? -tabIndex : 2,\n    isEdit: false,\n    selectedUser: selectedUser,\n    avatarIndex: avatarIndex\n  };\n};\nexport const editUserClick = (selectedUser, tabIndex) => {\n  return {\n    type: actionTypes.EDIT_USER_CLICK,\n    tabIndex: tabIndex && Math.abs(tabIndex) !== 2 ? -tabIndex : 1,\n    isEdit: true,\n    selectedUser: selectedUser\n  };\n};\nexport const addUserClick = () => {\n  return {\n    type: actionTypes.ADD_USER_CLICK,\n    tabIndex: -1,\n    isEdit: false\n  };\n};\nexport const fetchUsersStart = () => {\n  return {\n    type: actionTypes.FETCH_USERS_START\n  };\n};\nexport const fetchUsersSuccess = userList => {\n  return {\n    type: actionTypes.FETCH_USERS_SUCCESS,\n    userList: userList\n  };\n};\nexport const fetchUsersFail = error => {\n  return {\n    type: actionTypes.FETCH_USERS_FAIL,\n    error: error\n  };\n};\nexport const fetchUsers = group => {\n  return dispatch => {\n    dispatch(fetchUsersStart());\n    axios.get(`/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=${group}`).then(response => {\n      dispatch(fetchUsersSuccess(response.data));\n    }).catch(error => {\n      dispatch(fetchUsersFail(error));\n    });\n  };\n};\nexport const fetchCourseApprovalPendingStart = () => {\n  return {\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_START\n  };\n};\nexport const fetchCourseApprovalPendingSuccess = (success, selectedUser) => {\n  return {\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_SUCCESS,\n    success: success,\n    selectedUser: selectedUser\n  };\n};\nexport const fetchCourseApprovalPendingFail = error => {\n  return {\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_FAIL,\n    error: error\n  };\n};\nexport const fetchCourseApprovalPending = selectedUser => {\n  return dispatch => {\n    dispatch(fetchCourseApprovalPendingStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const url = \"/QuanLyNguoiDung/LayDanhSachKhoaHocChoXetDuyet\";\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    const data = {\n      taiKhoan: selectedUser.taiKhoan\n    };\n    axios({\n      method: \"post\",\n      url,\n      headers,\n      data\n    }).then(response => {\n      dispatch(fetchCourseApprovalPendingSuccess(response.data, selectedUser));\n    }).catch(error => {\n      dispatch(fetchCourseApprovalPendingFail(error.response.data));\n    });\n  };\n};\nexport const deleteUserStart = () => {\n  return {\n    type: actionTypes.DELETE_USER_START\n  };\n};\nexport const deleteUserSuccess = success => {\n  return {\n    type: actionTypes.DELETE_USER_SUCCESS,\n    success: success\n  };\n};\nexport const deleteUserFail = error => {\n  return {\n    type: actionTypes.DELETE_USER_FAIL,\n    error: error\n  };\n};\nexport const deleteUser = (selectedUser, group) => {\n  return dispatch => {\n    dispatch(deleteUserStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const url = `/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=${selectedUser.taiKhoan}`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    axios({\n      method: \"delete\",\n      url,\n      headers\n    }).then(response => {\n      dispatch(deleteUserSuccess(response.data));\n      dispatch(fetchUsers(group));\n    }).catch(error => {\n      dispatch(deleteUserFail(error.response.data));\n    });\n  };\n};\nexport const addUserStart = () => {\n  return {\n    type: actionTypes.ADD_USER_START\n  };\n};\nexport const addUserSuccess = success => {\n  return {\n    type: actionTypes.ADD_USER_SUCCESS,\n    success: success\n  };\n};\nexport const addUserFail = error => {\n  return {\n    type: actionTypes.ADD_USER_FAIL,\n    error: error\n  };\n};\nexport const addUser = (values, isEdit, tabIndex, group) => {\n  return dispatch => {\n    dispatch(addUserStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    let method = \"post\";\n    let url = \"/QuanLyNguoiDung/ThemNguoiDung\";\n\n    if (isEdit) {\n      method = \"put\";\n      url = \"/QuanLyNguoiDung/CapNhatThongTinNguoiDung\";\n    }\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    const data = {\n      taiKhoan: values.username,\n      matKhau: values.password,\n      hoTen: values.name,\n      soDT: values.phone,\n      maNhom: values.group,\n      email: values.email,\n      maLoaiNguoiDung: values.accountType\n    };\n    axios({\n      method,\n      url,\n      headers,\n      data\n    }).then(response => {\n      if (isEdit) {\n        dispatch(addUserSuccess(`Cập nhật tài khoản ${response.data.taiKhoan} thành công!`));\n        dispatch(fetchUsers(group)); // simulating Click to refresh edit page\n\n        dispatch(editUserClick(response.data, tabIndex));\n      } else {\n        dispatch(addUserSuccess(`Thêm tài khoản ${response.data.taiKhoan} thành công!`));\n        dispatch(fetchUsers(group));\n      }\n    }).catch(error => {\n      dispatch(addUserFail(error.response.data));\n    });\n  };\n};\nexport const approveCoursePendingStart = () => {\n  return {\n    type: actionTypes.APPROVE_COURSE_PENDING_START\n  };\n};\nexport const approveCoursePendingSuccess = success => {\n  return {\n    type: actionTypes.APPROVE_COURSE_PENDING_SUCCESS,\n    success: success\n  };\n};\nexport const approveCoursePendingFail = error => {\n  return {\n    type: actionTypes.APPROVE_COURSE_PENDING_FAIL,\n    error: error\n  };\n};\nexport const approveCoursePending = (courseId, selectedUser) => {\n  return dispatch => {\n    dispatch(approveCoursePendingStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const url = \"/QuanLyKhoaHoc/GhiDanhKhoaHoc\";\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    const data = {\n      maKhoaHoc: courseId,\n      taiKhoan: selectedUser.taiKhoan\n    };\n    axios({\n      method: \"post\",\n      url,\n      headers,\n      data\n    }).then(response => {\n      // console.log(response.data);\n      dispatch(approveCoursePendingSuccess(response.data));\n      dispatch(fetchCourseApprovalPending(selectedUser));\n      dispatch(fetchCourseApproved(selectedUser));\n      dispatch(fetchCourseNoneEnroll(selectedUser));\n    }).catch(error => {\n      console.log(error.response.data);\n      dispatch(approveCoursePendingFail(error.response.data));\n    });\n  };\n};\nexport const fetchCourseApprovedStart = () => {\n  return {\n    type: actionTypes.FETCH_COURSE_APPROVED_START\n  };\n};\nexport const fetchCourseApprovedSuccess = (success, selectedUser) => {\n  return {\n    type: actionTypes.FETCH_COURSE_APPROVED_SUCCESS,\n    success: success,\n    selectedUser: selectedUser\n  };\n};\nexport const fetchCourseApprovedFail = error => {\n  return {\n    type: actionTypes.FETCH_COURSE_APPROVED_FAIL,\n    error: error\n  };\n};\nexport const fetchCourseApproved = selectedUser => {\n  return dispatch => {\n    dispatch(fetchCourseApprovedStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const url = \"/QuanLyNguoiDung/LayDanhSachKhoaHocDaXetDuyet\";\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    const data = {\n      taiKhoan: selectedUser.taiKhoan\n    };\n    axios({\n      method: \"post\",\n      url,\n      headers,\n      data\n    }).then(response => {\n      dispatch(fetchCourseApprovedSuccess(response.data, selectedUser));\n    }).catch(error => {\n      dispatch(fetchCourseApprovedFail(error.response.data));\n    });\n  };\n};\nexport const disapproveCourseStart = () => {\n  return {\n    type: actionTypes.DISAPPROVE_COURSE_START\n  };\n};\nexport const disapproveCourseSuccess = success => {\n  return {\n    type: actionTypes.DISAPPROVE_COURSE_SUCCESS,\n    success: success\n  };\n};\nexport const disapproveCourseFail = error => {\n  return {\n    type: actionTypes.DISAPPROVE_COURSE_FAIL,\n    error: error\n  };\n};\nexport const disapproveCourse = (courseId, selectedUser) => {\n  return dispatch => {\n    dispatch(disapproveCourseStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const url = \"/QuanLyKhoaHoc/HuyGhiDanh\";\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    const data = {\n      maKhoaHoc: courseId,\n      taiKhoan: selectedUser.taiKhoan\n    };\n    axios({\n      method: \"post\",\n      url,\n      headers,\n      data\n    }).then(response => {\n      dispatch(disapproveCourseSuccess(response.data));\n      dispatch(fetchCourseApproved(selectedUser));\n      dispatch(fetchCourseApprovalPending(selectedUser));\n    }).catch(error => {\n      dispatch(disapproveCourseFail(error.response.data));\n    });\n  };\n};\nexport const fetchCourseNoneEnrollStart = () => {\n  return {\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_START\n  };\n};\nexport const fetchCourseNoneEnrollSuccess = (success, selectedUser) => {\n  return {\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_SUCCESS,\n    success: success,\n    selectedUser: selectedUser\n  };\n};\nexport const fetchCourseNoneEnrollFail = error => {\n  return {\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_FAIL,\n    error: error\n  };\n};\nexport const fetchCourseNoneEnroll = selectedUser => {\n  return dispatch => {\n    dispatch(fetchCourseNoneEnrollStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const url = `/QuanLyNguoiDung/LayDanhSachKhoaHocChuaGhiDanh?TaiKhoan=${selectedUser.taiKhoan}`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    axios({\n      method: \"post\",\n      url,\n      headers\n    }).then(response => {\n      dispatch(fetchCourseNoneEnrollSuccess(response.data, selectedUser));\n    }).catch(error => {\n      dispatch(fetchCourseNoneEnrollFail(error.response.data));\n    });\n  };\n};\nexport const searchUserStart = () => {\n  return {\n    type: actionTypes.SEARCH_USER_START\n  };\n};\nexport const searchUserSuccess = userList => {\n  return {\n    type: actionTypes.SEARCH_USER_SUCCESS,\n    userList: userList\n  };\n};\nexport const searchUserFail = error => {\n  return {\n    type: actionTypes.SEARCH_USER_FAIL,\n    error: error\n  };\n};\nexport const searchUser = (keyWord, group) => {\n  return dispatch => {\n    dispatch(searchUserStart());\n    axios.get(`/QuanLyNguoiDung/TimKiemNguoiDung?MaNhom=${group}&tuKhoa=${keyWord}`).then(response => {\n      !keyWord ? dispatch(fetchUsers(group)) : dispatch(searchUserSuccess(response.data));\n    }).catch(error => {\n      dispatch(searchUserFail(error));\n    });\n  };\n};","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/store/actions/usersManager.js"],"names":["axios","actionTypes","fetchInfoClick","selectedUser","tabIndex","avatarIndex","type","FETCH_INFO_CLICK","Math","abs","isEdit","editUserClick","EDIT_USER_CLICK","addUserClick","ADD_USER_CLICK","fetchUsersStart","FETCH_USERS_START","fetchUsersSuccess","userList","FETCH_USERS_SUCCESS","fetchUsersFail","error","FETCH_USERS_FAIL","fetchUsers","group","dispatch","get","then","response","data","catch","fetchCourseApprovalPendingStart","FETCH_COURSE_APPROVAL_PENDING_START","fetchCourseApprovalPendingSuccess","success","FETCH_COURSE_APPROVAL_PENDING_SUCCESS","fetchCourseApprovalPendingFail","FETCH_COURSE_APPROVAL_PENDING_FAIL","fetchCourseApprovalPending","user","JSON","parse","localStorage","getItem","url","headers","Authorization","accessToken","taiKhoan","method","deleteUserStart","DELETE_USER_START","deleteUserSuccess","DELETE_USER_SUCCESS","deleteUserFail","DELETE_USER_FAIL","deleteUser","addUserStart","ADD_USER_START","addUserSuccess","ADD_USER_SUCCESS","addUserFail","ADD_USER_FAIL","addUser","values","username","matKhau","password","hoTen","name","soDT","phone","maNhom","email","maLoaiNguoiDung","accountType","approveCoursePendingStart","APPROVE_COURSE_PENDING_START","approveCoursePendingSuccess","APPROVE_COURSE_PENDING_SUCCESS","approveCoursePendingFail","APPROVE_COURSE_PENDING_FAIL","approveCoursePending","courseId","maKhoaHoc","fetchCourseApproved","fetchCourseNoneEnroll","console","log","fetchCourseApprovedStart","FETCH_COURSE_APPROVED_START","fetchCourseApprovedSuccess","FETCH_COURSE_APPROVED_SUCCESS","fetchCourseApprovedFail","FETCH_COURSE_APPROVED_FAIL","disapproveCourseStart","DISAPPROVE_COURSE_START","disapproveCourseSuccess","DISAPPROVE_COURSE_SUCCESS","disapproveCourseFail","DISAPPROVE_COURSE_FAIL","disapproveCourse","fetchCourseNoneEnrollStart","FETCH_COURSE_NONE_ENROLL_START","fetchCourseNoneEnrollSuccess","FETCH_COURSE_NONE_ENROLL_SUCCESS","fetchCourseNoneEnrollFail","FETCH_COURSE_NONE_ENROLL_FAIL","searchUserStart","SEARCH_USER_START","searchUserSuccess","SEARCH_USER_SUCCESS","searchUserFail","SEARCH_USER_FAIL","searchUser","keyWord"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAEA,OAAO,MAAMC,cAAc,GAAG,CAACC,YAAD,EAAeC,QAAf,EAAyBC,WAAzB,KAAyC;AACrE,SAAO;AACLC,IAAAA,IAAI,EAAEL,WAAW,CAACM,gBADb;AAELH,IAAAA,QAAQ,EAAEA,QAAQ,IAAII,IAAI,CAACC,GAAL,CAASL,QAAT,MAAuB,CAAnC,GAAuC,CAACA,QAAxC,GAAmD,CAFxD;AAGLM,IAAAA,MAAM,EAAE,KAHH;AAILP,IAAAA,YAAY,EAAEA,YAJT;AAKLE,IAAAA,WAAW,EAAEA;AALR,GAAP;AAOD,CARM;AAUP,OAAO,MAAMM,aAAa,GAAG,CAACR,YAAD,EAAeC,QAAf,KAA4B;AACvD,SAAO;AACLE,IAAAA,IAAI,EAAEL,WAAW,CAACW,eADb;AAELR,IAAAA,QAAQ,EAAEA,QAAQ,IAAII,IAAI,CAACC,GAAL,CAASL,QAAT,MAAuB,CAAnC,GAAuC,CAACA,QAAxC,GAAmD,CAFxD;AAGLM,IAAAA,MAAM,EAAE,IAHH;AAILP,IAAAA,YAAY,EAAEA;AAJT,GAAP;AAMD,CAPM;AASP,OAAO,MAAMU,YAAY,GAAG,MAAM;AAChC,SAAO;AACLP,IAAAA,IAAI,EAAEL,WAAW,CAACa,cADb;AAELV,IAAAA,QAAQ,EAAE,CAAC,CAFN;AAGLM,IAAAA,MAAM,EAAE;AAHH,GAAP;AAKD,CANM;AAQP,OAAO,MAAMK,eAAe,GAAG,MAAM;AACnC,SAAO;AACLT,IAAAA,IAAI,EAAEL,WAAW,CAACe;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,iBAAiB,GAAIC,QAAD,IAAc;AAC7C,SAAO;AACLZ,IAAAA,IAAI,EAAEL,WAAW,CAACkB,mBADb;AAELD,IAAAA,QAAQ,EAAEA;AAFL,GAAP;AAID,CALM;AAOP,OAAO,MAAME,cAAc,GAAIC,KAAD,IAAW;AACvC,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAACqB,gBADb;AAELD,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAME,UAAU,GAAIC,KAAD,IAAW;AACnC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACV,eAAe,EAAhB,CAAR;AACAf,IAAAA,KAAK,CACF0B,GADH,CACQ,gDAA+CF,KAAM,EAD7D,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClBH,MAAAA,QAAQ,CAACR,iBAAiB,CAACW,QAAQ,CAACC,IAAV,CAAlB,CAAR;AACD,KAJH,EAKGC,KALH,CAKUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACL,cAAc,CAACC,KAAD,CAAf,CAAR;AACD,KAPH;AAQD,GAVD;AAWD,CAZM;AAcP,OAAO,MAAMU,+BAA+B,GAAG,MAAM;AACnD,SAAO;AACLzB,IAAAA,IAAI,EAAEL,WAAW,CAAC+B;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,iCAAiC,GAAG,CAACC,OAAD,EAAU/B,YAAV,KAA2B;AAC1E,SAAO;AACLG,IAAAA,IAAI,EAAEL,WAAW,CAACkC,qCADb;AAELD,IAAAA,OAAO,EAAEA,OAFJ;AAGL/B,IAAAA,YAAY,EAAEA;AAHT,GAAP;AAKD,CANM;AAQP,OAAO,MAAMiC,8BAA8B,GAAIf,KAAD,IAAW;AACvD,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAACoC,kCADb;AAELhB,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAMiB,0BAA0B,GAAInC,YAAD,IAAkB;AAC1D,SAAQsB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACM,+BAA+B,EAAhC,CAAR;AACA,UAAMQ,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAMC,GAAG,GAAG,gDAAZ;AACA,UAAMC,OAAO,GAAG;AACd,sBAAgB,kBADF;AAEdC,MAAAA,aAAa,EAAG,UAASP,IAAI,CAACQ,WAAY;AAF5B,KAAhB;AAIA,UAAMlB,IAAI,GAAG;AACXmB,MAAAA,QAAQ,EAAE7C,YAAY,CAAC6C;AADZ,KAAb;AAGAhD,IAAAA,KAAK,CAAC;AAAEiD,MAAAA,MAAM,EAAE,MAAV;AAAkBL,MAAAA,GAAlB;AAAuBC,MAAAA,OAAvB;AAAgChB,MAAAA;AAAhC,KAAD,CAAL,CACGF,IADH,CACSC,QAAD,IAAc;AAClBH,MAAAA,QAAQ,CACNQ,iCAAiC,CAACL,QAAQ,CAACC,IAAV,EAAgB1B,YAAhB,CAD3B,CAAR;AAGD,KALH,EAMG2B,KANH,CAMUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACW,8BAA8B,CAACf,KAAK,CAACO,QAAN,CAAeC,IAAhB,CAA/B,CAAR;AACD,KARH;AASD,GApBD;AAqBD,CAtBM;AAwBP,OAAO,MAAMqB,eAAe,GAAG,MAAM;AACnC,SAAO;AACL5C,IAAAA,IAAI,EAAEL,WAAW,CAACkD;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,iBAAiB,GAAIlB,OAAD,IAAa;AAC5C,SAAO;AACL5B,IAAAA,IAAI,EAAEL,WAAW,CAACoD,mBADb;AAELnB,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMoB,cAAc,GAAIjC,KAAD,IAAW;AACvC,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAACsD,gBADb;AAELlC,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAMmC,UAAU,GAAG,CAACrD,YAAD,EAAeqB,KAAf,KAAyB;AACjD,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACyB,eAAe,EAAhB,CAAR;AACA,UAAMX,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAMC,GAAG,GAAI,0CAAyCzC,YAAY,CAAC6C,QAAS,EAA5E;AACA,UAAMH,OAAO,GAAG;AACd,sBAAgB,kBADF;AAEdC,MAAAA,aAAa,EAAG,UAASP,IAAI,CAACQ,WAAY;AAF5B,KAAhB;AAIA/C,IAAAA,KAAK,CAAC;AAAEiD,MAAAA,MAAM,EAAE,QAAV;AAAoBL,MAAAA,GAApB;AAAyBC,MAAAA;AAAzB,KAAD,CAAL,CACGlB,IADH,CACSC,QAAD,IAAc;AAClBH,MAAAA,QAAQ,CAAC2B,iBAAiB,CAACxB,QAAQ,CAACC,IAAV,CAAlB,CAAR;AACAJ,MAAAA,QAAQ,CAACF,UAAU,CAACC,KAAD,CAAX,CAAR;AACD,KAJH,EAKGM,KALH,CAKUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAAC6B,cAAc,CAACjC,KAAK,CAACO,QAAN,CAAeC,IAAhB,CAAf,CAAR;AACD,KAPH;AAQD,GAhBD;AAiBD,CAlBM;AAoBP,OAAO,MAAM4B,YAAY,GAAG,MAAM;AAChC,SAAO;AACLnD,IAAAA,IAAI,EAAEL,WAAW,CAACyD;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,cAAc,GAAIzB,OAAD,IAAa;AACzC,SAAO;AACL5B,IAAAA,IAAI,EAAEL,WAAW,CAAC2D,gBADb;AAEL1B,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAM2B,WAAW,GAAIxC,KAAD,IAAW;AACpC,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAAC6D,aADb;AAELzC,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAM0C,OAAO,GAAG,CAACC,MAAD,EAAStD,MAAT,EAAiBN,QAAjB,EAA2BoB,KAA3B,KAAqC;AAC1D,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACgC,YAAY,EAAb,CAAR;AACA,UAAMlB,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,QAAIM,MAAM,GAAG,MAAb;AACA,QAAIL,GAAG,GAAG,gCAAV;;AACA,QAAIlC,MAAJ,EAAY;AACVuC,MAAAA,MAAM,GAAG,KAAT;AACAL,MAAAA,GAAG,GAAG,2CAAN;AACD;;AACD,UAAMC,OAAO,GAAG;AACd,sBAAgB,kBADF;AAEdC,MAAAA,aAAa,EAAG,UAASP,IAAI,CAACQ,WAAY;AAF5B,KAAhB;AAIA,UAAMlB,IAAI,GAAG;AACXmB,MAAAA,QAAQ,EAAEgB,MAAM,CAACC,QADN;AAEXC,MAAAA,OAAO,EAAEF,MAAM,CAACG,QAFL;AAGXC,MAAAA,KAAK,EAAEJ,MAAM,CAACK,IAHH;AAIXC,MAAAA,IAAI,EAAEN,MAAM,CAACO,KAJF;AAKXC,MAAAA,MAAM,EAAER,MAAM,CAACxC,KALJ;AAMXiD,MAAAA,KAAK,EAAET,MAAM,CAACS,KANH;AAOXC,MAAAA,eAAe,EAAEV,MAAM,CAACW;AAPb,KAAb;AASA3E,IAAAA,KAAK,CAAC;AAAEiD,MAAAA,MAAF;AAAUL,MAAAA,GAAV;AAAeC,MAAAA,OAAf;AAAwBhB,MAAAA;AAAxB,KAAD,CAAL,CACGF,IADH,CACSC,QAAD,IAAc;AAClB,UAAIlB,MAAJ,EAAY;AACVe,QAAAA,QAAQ,CACNkC,cAAc,CACX,sBAAqB/B,QAAQ,CAACC,IAAT,CAAcmB,QAAS,cADjC,CADR,CAAR;AAKAvB,QAAAA,QAAQ,CAACF,UAAU,CAACC,KAAD,CAAX,CAAR,CANU,CAOV;;AACAC,QAAAA,QAAQ,CAACd,aAAa,CAACiB,QAAQ,CAACC,IAAV,EAAgBzB,QAAhB,CAAd,CAAR;AACD,OATD,MASO;AACLqB,QAAAA,QAAQ,CACNkC,cAAc,CACX,kBAAiB/B,QAAQ,CAACC,IAAT,CAAcmB,QAAS,cAD7B,CADR,CAAR;AAKAvB,QAAAA,QAAQ,CAACF,UAAU,CAACC,KAAD,CAAX,CAAR;AACD;AACF,KAnBH,EAoBGM,KApBH,CAoBUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACoC,WAAW,CAACxC,KAAK,CAACO,QAAN,CAAeC,IAAhB,CAAZ,CAAR;AACD,KAtBH;AAuBD,GA9CD;AA+CD,CAhDM;AAkDP,OAAO,MAAM+C,yBAAyB,GAAG,MAAM;AAC7C,SAAO;AACLtE,IAAAA,IAAI,EAAEL,WAAW,CAAC4E;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,2BAA2B,GAAI5C,OAAD,IAAa;AACtD,SAAO;AACL5B,IAAAA,IAAI,EAAEL,WAAW,CAAC8E,8BADb;AAEL7C,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAM8C,wBAAwB,GAAI3D,KAAD,IAAW;AACjD,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAACgF,2BADb;AAEL5D,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAM6D,oBAAoB,GAAG,CAACC,QAAD,EAAWhF,YAAX,KAA4B;AAC9D,SAAQsB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACmD,yBAAyB,EAA1B,CAAR;AACA,UAAMrC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAMC,GAAG,GAAG,+BAAZ;AACA,UAAMC,OAAO,GAAG;AACd,sBAAgB,kBADF;AAEdC,MAAAA,aAAa,EAAG,UAASP,IAAI,CAACQ,WAAY;AAF5B,KAAhB;AAIA,UAAMlB,IAAI,GAAG;AACXuD,MAAAA,SAAS,EAAED,QADA;AAEXnC,MAAAA,QAAQ,EAAE7C,YAAY,CAAC6C;AAFZ,KAAb;AAIAhD,IAAAA,KAAK,CAAC;AAAEiD,MAAAA,MAAM,EAAE,MAAV;AAAkBL,MAAAA,GAAlB;AAAuBC,MAAAA,OAAvB;AAAgChB,MAAAA;AAAhC,KAAD,CAAL,CACGF,IADH,CACSC,QAAD,IAAc;AAClB;AACAH,MAAAA,QAAQ,CAACqD,2BAA2B,CAAClD,QAAQ,CAACC,IAAV,CAA5B,CAAR;AACAJ,MAAAA,QAAQ,CAACa,0BAA0B,CAACnC,YAAD,CAA3B,CAAR;AACAsB,MAAAA,QAAQ,CAAC4D,mBAAmB,CAAClF,YAAD,CAApB,CAAR;AACAsB,MAAAA,QAAQ,CAAC6D,qBAAqB,CAACnF,YAAD,CAAtB,CAAR;AACD,KAPH,EAQG2B,KARH,CAQUT,KAAD,IAAW;AAChBkE,MAAAA,OAAO,CAACC,GAAR,CAAYnE,KAAK,CAACO,QAAN,CAAeC,IAA3B;AACAJ,MAAAA,QAAQ,CAACuD,wBAAwB,CAAC3D,KAAK,CAACO,QAAN,CAAeC,IAAhB,CAAzB,CAAR;AACD,KAXH;AAYD,GAxBD;AAyBD,CA1BM;AA4BP,OAAO,MAAM4D,wBAAwB,GAAG,MAAM;AAC5C,SAAO;AACLnF,IAAAA,IAAI,EAAEL,WAAW,CAACyF;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,0BAA0B,GAAG,CAACzD,OAAD,EAAU/B,YAAV,KAA2B;AACnE,SAAO;AACLG,IAAAA,IAAI,EAAEL,WAAW,CAAC2F,6BADb;AAEL1D,IAAAA,OAAO,EAAEA,OAFJ;AAGL/B,IAAAA,YAAY,EAAEA;AAHT,GAAP;AAKD,CANM;AAQP,OAAO,MAAM0F,uBAAuB,GAAIxE,KAAD,IAAW;AAChD,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAAC6F,0BADb;AAELzE,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAMgE,mBAAmB,GAAIlF,YAAD,IAAkB;AACnD,SAAQsB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACgE,wBAAwB,EAAzB,CAAR;AACA,UAAMlD,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAMC,GAAG,GAAG,+CAAZ;AACA,UAAMC,OAAO,GAAG;AACd,sBAAgB,kBADF;AAEdC,MAAAA,aAAa,EAAG,UAASP,IAAI,CAACQ,WAAY;AAF5B,KAAhB;AAIA,UAAMlB,IAAI,GAAG;AACXmB,MAAAA,QAAQ,EAAE7C,YAAY,CAAC6C;AADZ,KAAb;AAGAhD,IAAAA,KAAK,CAAC;AAAEiD,MAAAA,MAAM,EAAE,MAAV;AAAkBL,MAAAA,GAAlB;AAAuBC,MAAAA,OAAvB;AAAgChB,MAAAA;AAAhC,KAAD,CAAL,CACGF,IADH,CACSC,QAAD,IAAc;AAClBH,MAAAA,QAAQ,CAACkE,0BAA0B,CAAC/D,QAAQ,CAACC,IAAV,EAAgB1B,YAAhB,CAA3B,CAAR;AACD,KAHH,EAIG2B,KAJH,CAIUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACoE,uBAAuB,CAACxE,KAAK,CAACO,QAAN,CAAeC,IAAhB,CAAxB,CAAR;AACD,KANH;AAOD,GAlBD;AAmBD,CApBM;AAsBP,OAAO,MAAMkE,qBAAqB,GAAG,MAAM;AACzC,SAAO;AACLzF,IAAAA,IAAI,EAAEL,WAAW,CAAC+F;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,uBAAuB,GAAI/D,OAAD,IAAa;AAClD,SAAO;AACL5B,IAAAA,IAAI,EAAEL,WAAW,CAACiG,yBADb;AAELhE,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMiE,oBAAoB,GAAI9E,KAAD,IAAW;AAC7C,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAACmG,sBADb;AAEL/E,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAMgF,gBAAgB,GAAG,CAAClB,QAAD,EAAWhF,YAAX,KAA4B;AAC1D,SAAQsB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACsE,qBAAqB,EAAtB,CAAR;AACA,UAAMxD,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAMC,GAAG,GAAG,2BAAZ;AACA,UAAMC,OAAO,GAAG;AACd,sBAAgB,kBADF;AAEdC,MAAAA,aAAa,EAAG,UAASP,IAAI,CAACQ,WAAY;AAF5B,KAAhB;AAIA,UAAMlB,IAAI,GAAG;AACXuD,MAAAA,SAAS,EAAED,QADA;AAEXnC,MAAAA,QAAQ,EAAE7C,YAAY,CAAC6C;AAFZ,KAAb;AAIAhD,IAAAA,KAAK,CAAC;AAAEiD,MAAAA,MAAM,EAAE,MAAV;AAAkBL,MAAAA,GAAlB;AAAuBC,MAAAA,OAAvB;AAAgChB,MAAAA;AAAhC,KAAD,CAAL,CACGF,IADH,CACSC,QAAD,IAAc;AAClBH,MAAAA,QAAQ,CAACwE,uBAAuB,CAACrE,QAAQ,CAACC,IAAV,CAAxB,CAAR;AACAJ,MAAAA,QAAQ,CAAC4D,mBAAmB,CAAClF,YAAD,CAApB,CAAR;AACAsB,MAAAA,QAAQ,CAACa,0BAA0B,CAACnC,YAAD,CAA3B,CAAR;AACD,KALH,EAMG2B,KANH,CAMUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAAC0E,oBAAoB,CAAC9E,KAAK,CAACO,QAAN,CAAeC,IAAhB,CAArB,CAAR;AACD,KARH;AASD,GArBD;AAsBD,CAvBM;AAyBP,OAAO,MAAMyE,0BAA0B,GAAG,MAAM;AAC9C,SAAO;AACLhG,IAAAA,IAAI,EAAEL,WAAW,CAACsG;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,4BAA4B,GAAG,CAACtE,OAAD,EAAU/B,YAAV,KAA2B;AACrE,SAAO;AACLG,IAAAA,IAAI,EAAEL,WAAW,CAACwG,gCADb;AAELvE,IAAAA,OAAO,EAAEA,OAFJ;AAGL/B,IAAAA,YAAY,EAAEA;AAHT,GAAP;AAKD,CANM;AAQP,OAAO,MAAMuG,yBAAyB,GAAIrF,KAAD,IAAW;AAClD,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAAC0G,6BADb;AAELtF,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAMiE,qBAAqB,GAAInF,YAAD,IAAkB;AACrD,SAAQsB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC6E,0BAA0B,EAA3B,CAAR;AACA,UAAM/D,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAMC,GAAG,GAAI,2DAA0DzC,YAAY,CAAC6C,QAAS,EAA7F;AACA,UAAMH,OAAO,GAAG;AACd,sBAAgB,kBADF;AAEdC,MAAAA,aAAa,EAAG,UAASP,IAAI,CAACQ,WAAY;AAF5B,KAAhB;AAIA/C,IAAAA,KAAK,CAAC;AAAEiD,MAAAA,MAAM,EAAE,MAAV;AAAkBL,MAAAA,GAAlB;AAAuBC,MAAAA;AAAvB,KAAD,CAAL,CACGlB,IADH,CACSC,QAAD,IAAc;AAClBH,MAAAA,QAAQ,CAAC+E,4BAA4B,CAAC5E,QAAQ,CAACC,IAAV,EAAgB1B,YAAhB,CAA7B,CAAR;AACD,KAHH,EAIG2B,KAJH,CAIUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACiF,yBAAyB,CAACrF,KAAK,CAACO,QAAN,CAAeC,IAAhB,CAA1B,CAAR;AACD,KANH;AAOD,GAfD;AAgBD,CAjBM;AAmBP,OAAO,MAAM+E,eAAe,GAAG,MAAM;AACnC,SAAO;AACLtG,IAAAA,IAAI,EAAEL,WAAW,CAAC4G;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,iBAAiB,GAAI5F,QAAD,IAAc;AAC7C,SAAO;AACLZ,IAAAA,IAAI,EAAEL,WAAW,CAAC8G,mBADb;AAEL7F,IAAAA,QAAQ,EAAEA;AAFL,GAAP;AAID,CALM;AAOP,OAAO,MAAM8F,cAAc,GAAI3F,KAAD,IAAW;AACvC,SAAO;AACLf,IAAAA,IAAI,EAAEL,WAAW,CAACgH,gBADb;AAEL5F,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAM6F,UAAU,GAAG,CAACC,OAAD,EAAU3F,KAAV,KAAoB;AAC5C,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACmF,eAAe,EAAhB,CAAR;AACA5G,IAAAA,KAAK,CACF0B,GADH,CAEK,4CAA2CF,KAAM,WAAU2F,OAAQ,EAFxE,EAIGxF,IAJH,CAISC,QAAD,IAAc;AAClB,OAACuF,OAAD,GACI1F,QAAQ,CAACF,UAAU,CAACC,KAAD,CAAX,CADZ,GAEIC,QAAQ,CAACqF,iBAAiB,CAAClF,QAAQ,CAACC,IAAV,CAAlB,CAFZ;AAGD,KARH,EASGC,KATH,CASUT,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACuF,cAAc,CAAC3F,KAAD,CAAf,CAAR;AACD,KAXH;AAYD,GAdD;AAeD,CAhBM","sourcesContent":["import axios from \"../../axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\n\r\nexport const fetchInfoClick = (selectedUser, tabIndex, avatarIndex) => {\r\n  return {\r\n    type: actionTypes.FETCH_INFO_CLICK,\r\n    tabIndex: tabIndex && Math.abs(tabIndex) !== 1 ? -tabIndex : 2,\r\n    isEdit: false,\r\n    selectedUser: selectedUser,\r\n    avatarIndex: avatarIndex,\r\n  };\r\n};\r\n\r\nexport const editUserClick = (selectedUser, tabIndex) => {\r\n  return {\r\n    type: actionTypes.EDIT_USER_CLICK,\r\n    tabIndex: tabIndex && Math.abs(tabIndex) !== 2 ? -tabIndex : 1,\r\n    isEdit: true,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const addUserClick = () => {\r\n  return {\r\n    type: actionTypes.ADD_USER_CLICK,\r\n    tabIndex: -1,\r\n    isEdit: false,\r\n  };\r\n};\r\n\r\nexport const fetchUsersStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS_START,\r\n  };\r\n};\r\n\r\nexport const fetchUsersSuccess = (userList) => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS_SUCCESS,\r\n    userList: userList,\r\n  };\r\n};\r\n\r\nexport const fetchUsersFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchUsers = (group) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchUsersStart());\r\n    axios\r\n      .get(`/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=${group}`)\r\n      .then((response) => {\r\n        dispatch(fetchUsersSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchUsersFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPendingStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPendingSuccess = (success, selectedUser) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_SUCCESS,\r\n    success: success,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPendingFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPending = (selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseApprovalPendingStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyNguoiDung/LayDanhSachKhoaHocChoXetDuyet\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        dispatch(\r\n          fetchCourseApprovalPendingSuccess(response.data, selectedUser)\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseApprovalPendingFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const deleteUserStart = () => {\r\n  return {\r\n    type: actionTypes.DELETE_USER_START,\r\n  };\r\n};\r\n\r\nexport const deleteUserSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.DELETE_USER_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const deleteUserFail = (error) => {\r\n  return {\r\n    type: actionTypes.DELETE_USER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const deleteUser = (selectedUser, group) => {\r\n  return (dispatch) => {\r\n    dispatch(deleteUserStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = `/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=${selectedUser.taiKhoan}`;\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    axios({ method: \"delete\", url, headers })\r\n      .then((response) => {\r\n        dispatch(deleteUserSuccess(response.data));\r\n        dispatch(fetchUsers(group));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(deleteUserFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const addUserStart = () => {\r\n  return {\r\n    type: actionTypes.ADD_USER_START,\r\n  };\r\n};\r\n\r\nexport const addUserSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.ADD_USER_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const addUserFail = (error) => {\r\n  return {\r\n    type: actionTypes.ADD_USER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const addUser = (values, isEdit, tabIndex, group) => {\r\n  return (dispatch) => {\r\n    dispatch(addUserStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n    let method = \"post\";\r\n    let url = \"/QuanLyNguoiDung/ThemNguoiDung\";\r\n    if (isEdit) {\r\n      method = \"put\";\r\n      url = \"/QuanLyNguoiDung/CapNhatThongTinNguoiDung\";\r\n    }\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: values.username,\r\n      matKhau: values.password,\r\n      hoTen: values.name,\r\n      soDT: values.phone,\r\n      maNhom: values.group,\r\n      email: values.email,\r\n      maLoaiNguoiDung: values.accountType,\r\n    };\r\n    axios({ method, url, headers, data })\r\n      .then((response) => {\r\n        if (isEdit) {\r\n          dispatch(\r\n            addUserSuccess(\r\n              `Cập nhật tài khoản ${response.data.taiKhoan} thành công!`\r\n            )\r\n          );\r\n          dispatch(fetchUsers(group));\r\n          // simulating Click to refresh edit page\r\n          dispatch(editUserClick(response.data, tabIndex));\r\n        } else {\r\n          dispatch(\r\n            addUserSuccess(\r\n              `Thêm tài khoản ${response.data.taiKhoan} thành công!`\r\n            )\r\n          );\r\n          dispatch(fetchUsers(group));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(addUserFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const approveCoursePendingStart = () => {\r\n  return {\r\n    type: actionTypes.APPROVE_COURSE_PENDING_START,\r\n  };\r\n};\r\n\r\nexport const approveCoursePendingSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.APPROVE_COURSE_PENDING_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const approveCoursePendingFail = (error) => {\r\n  return {\r\n    type: actionTypes.APPROVE_COURSE_PENDING_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const approveCoursePending = (courseId, selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(approveCoursePendingStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyKhoaHoc/GhiDanhKhoaHoc\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      maKhoaHoc: courseId,\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        // console.log(response.data);\r\n        dispatch(approveCoursePendingSuccess(response.data));\r\n        dispatch(fetchCourseApprovalPending(selectedUser));\r\n        dispatch(fetchCourseApproved(selectedUser));\r\n        dispatch(fetchCourseNoneEnroll(selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data);\r\n        dispatch(approveCoursePendingFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovedStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVED_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovedSuccess = (success, selectedUser) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVED_SUCCESS,\r\n    success: success,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovedFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVED_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApproved = (selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseApprovedStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyNguoiDung/LayDanhSachKhoaHocDaXetDuyet\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        dispatch(fetchCourseApprovedSuccess(response.data, selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseApprovedFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const disapproveCourseStart = () => {\r\n  return {\r\n    type: actionTypes.DISAPPROVE_COURSE_START,\r\n  };\r\n};\r\n\r\nexport const disapproveCourseSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.DISAPPROVE_COURSE_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const disapproveCourseFail = (error) => {\r\n  return {\r\n    type: actionTypes.DISAPPROVE_COURSE_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const disapproveCourse = (courseId, selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(disapproveCourseStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyKhoaHoc/HuyGhiDanh\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      maKhoaHoc: courseId,\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        dispatch(disapproveCourseSuccess(response.data));\r\n        dispatch(fetchCourseApproved(selectedUser));\r\n        dispatch(fetchCourseApprovalPending(selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(disapproveCourseFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnrollStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnrollSuccess = (success, selectedUser) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_SUCCESS,\r\n    success: success,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnrollFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnroll = (selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseNoneEnrollStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = `/QuanLyNguoiDung/LayDanhSachKhoaHocChuaGhiDanh?TaiKhoan=${selectedUser.taiKhoan}`;\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    axios({ method: \"post\", url, headers })\r\n      .then((response) => {\r\n        dispatch(fetchCourseNoneEnrollSuccess(response.data, selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseNoneEnrollFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const searchUserStart = () => {\r\n  return {\r\n    type: actionTypes.SEARCH_USER_START,\r\n  };\r\n};\r\n\r\nexport const searchUserSuccess = (userList) => {\r\n  return {\r\n    type: actionTypes.SEARCH_USER_SUCCESS,\r\n    userList: userList,\r\n  };\r\n};\r\n\r\nexport const searchUserFail = (error) => {\r\n  return {\r\n    type: actionTypes.SEARCH_USER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const searchUser = (keyWord, group) => {\r\n  return (dispatch) => {\r\n    dispatch(searchUserStart());\r\n    axios\r\n      .get(\r\n        `/QuanLyNguoiDung/TimKiemNguoiDung?MaNhom=${group}&tuKhoa=${keyWord}`\r\n      )\r\n      .then((response) => {\r\n        !keyWord\r\n          ? dispatch(fetchUsers(group))\r\n          : dispatch(searchUserSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(searchUserFail(error));\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}