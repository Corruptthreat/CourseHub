{"ast":null,"code":"import _slicedToArray from\"/home/sudo-byte/CourseHub-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/sudo-byte/CourseHub-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import*as actions from\"../../../store/actions\";import{Link}from\"react-router-dom\";import{Divider}from\"@material-ui/core\";import{fade,makeStyles}from\"@material-ui/core/styles\";import InputBase from\"@material-ui/core/InputBase\";import SearchIcon from\"@material-ui/icons/Search\";import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import ListItemText from\"@material-ui/core/ListItemText\";import ListItemAvatar from\"@material-ui/core/ListItemAvatar\";import Avatar from\"@material-ui/core/Avatar\";var useStyles=makeStyles(function(theme){return{search:_defineProperty({position:\"relative\",borderRadius:theme.shape.borderRadius,backgroundColor:fade(theme.palette.common.white,0.15),\"&:hover\":{backgroundColor:fade(theme.palette.common.white,0.25)},marginRight:theme.spacing(1),marginLeft:theme.spacing(2),width:\"100%\"},theme.breakpoints.up(\"sm\"),{marginLeft:theme.spacing(1),width:\"auto\"}),searchIcon:{padding:theme.spacing(0,2),height:\"100%\",position:\"absolute\",pointerEvents:\"none\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},inputRoot:{color:\"inherit\",width:\"100%\"},inputInput:_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\"px)\"),transition:theme.transitions.create(\"width\")},theme.breakpoints.up(\"sm\"),{width:\"15ch\",\"&:focus\":{width:\"28ch\"}}),searchResult:{position:\"absolute\",top:40,left:0,width:\"100%\",maxHeight:\"40vh\",overflowY:\"auto\",backgroundColor:theme.palette.background.paper},link:{textDecoration:\"none\",textTransform:\"none\",color:\"darkgray\"}};});var Searchbar=function Searchbar(props){var classes=useStyles();var courseList=props.courseList;var onfetchCourses=props.onfetchCourses;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),keyWord=_useState2[0],setKeyWord=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];useEffect(function(){onfetchCourses(\"all\",\"GP08\",keyWord);},[onfetchCourses,keyWord]);var handleKeyWord=function handleKeyWord(value){setTimeout(function(){setKeyWord(value);setShow(true);},1500);};return/*#__PURE__*/React.createElement(\"div\",{className:classes.search},/*#__PURE__*/React.createElement(\"div\",{className:classes.searchIcon},/*#__PURE__*/React.createElement(SearchIcon,null)),/*#__PURE__*/React.createElement(InputBase,{type:\"search\",placeholder:\"Search\\u2026\",classes:{root:classes.inputRoot,input:classes.inputInput},inputProps:{\"aria-label\":\"search\"},onChange:function onChange(event){return handleKeyWord(event.target.value);}}),show&&keyWord&&courseList&&courseList.length>0?/*#__PURE__*/React.createElement(List,{className:classes.searchResult},courseList.map(function(course){return/*#__PURE__*/React.createElement(Link,{key:course.maKhoaHoc,to:\"/courses/\".concat(course.maKhoaHoc),className:classes.link,onClick:function onClick(){return setShow(false);}},/*#__PURE__*/React.createElement(ListItem,null,/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,null,/*#__PURE__*/React.createElement(\"img\",{src:course.hinhAnh,alt:course.tenKhoaHoc}))),/*#__PURE__*/React.createElement(ListItemText,{primary:course.tenKhoaHoc})),/*#__PURE__*/React.createElement(Divider,null));})):null);};var mapStateToProps=function mapStateToProps(state){return{courseList:state.courses.courseList,loading:state.courses.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onfetchCourses:function onfetchCourses(courseType,group,keyWord){return dispatch(actions.fetchCourses(courseType,group,keyWord));}};};export default connect(mapStateToProps,mapDispatchToProps)(Searchbar);","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/components/Navigation/Searchbar/Searchbar.js"],"names":["React","useState","useEffect","connect","actions","Link","Divider","fade","makeStyles","InputBase","SearchIcon","List","ListItem","ListItemText","ListItemAvatar","Avatar","useStyles","theme","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginRight","spacing","marginLeft","width","breakpoints","up","searchIcon","padding","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","searchResult","top","left","maxHeight","overflowY","background","paper","link","textDecoration","textTransform","Searchbar","props","classes","courseList","onfetchCourses","keyWord","setKeyWord","show","setShow","handleKeyWord","value","setTimeout","root","input","event","target","length","map","course","maKhoaHoc","hinhAnh","tenKhoaHoc","mapStateToProps","state","courses","loading","mapDispatchToProps","dispatch","courseType","group","fetchCourses"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../store/actions\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(1),\r\n    marginLeft: theme.spacing(2),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n    width: \"100%\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"15ch\",\r\n      \"&:focus\": {\r\n        width: \"28ch\",\r\n      },\r\n    },\r\n  },\r\n  searchResult: {\r\n    position: \"absolute\",\r\n    top: 40,\r\n    left: 0,\r\n    width: \"100%\",\r\n    maxHeight: \"40vh\",\r\n    overflowY: \"auto\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n    textTransform: \"none\",\r\n    color: \"darkgray\",\r\n  },\r\n}));\r\n\r\nconst Searchbar = (props) => {\r\n  const classes = useStyles();\r\n  const { courseList } = props;\r\n  const { onfetchCourses } = props;\r\n  const [keyWord, setKeyWord] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    onfetchCourses(\"all\", \"GP08\", keyWord);\r\n  }, [onfetchCourses, keyWord]);\r\n\r\n  const handleKeyWord = (value) => {\r\n    setTimeout(() => {\r\n      setKeyWord(value);\r\n      setShow(true);\r\n    }, 1500);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.search}>\r\n      <div className={classes.searchIcon}>\r\n        <SearchIcon />\r\n      </div>\r\n      <InputBase\r\n        type=\"search\"\r\n        placeholder=\"Search…\"\r\n        classes={{\r\n          root: classes.inputRoot,\r\n          input: classes.inputInput,\r\n        }}\r\n        inputProps={{ \"aria-label\": \"search\" }}\r\n        onChange={(event) => handleKeyWord(event.target.value)}\r\n      />\r\n      {show && keyWord && courseList && courseList.length > 0 ? (\r\n        <List className={classes.searchResult}>\r\n          {courseList.map((course) => (\r\n            <Link\r\n              key={course.maKhoaHoc}\r\n              to={`/courses/${course.maKhoaHoc}`}\r\n              className={classes.link}\r\n              onClick={() => setShow(false)}\r\n            >\r\n              <ListItem>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <img src={course.hinhAnh} alt={course.tenKhoaHoc} />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={course.tenKhoaHoc} />\r\n              </ListItem>\r\n              <Divider />\r\n            </Link>\r\n          ))}\r\n        </List>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    courseList: state.courses.courseList,\r\n    loading: state.courses.loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onfetchCourses: (courseType, group, keyWord) =>\r\n      dispatch(actions.fetchCourses(courseType, group, keyWord)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Searchbar);\r\n"]},"metadata":{},"sourceType":"module"}