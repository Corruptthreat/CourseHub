{"ast":null,"code":"var _jsxFileName = \"/home/sudo-byte/CourseHub-master/src/components/CourseList/CourseDetail/CourseDetail.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { Box, Grid, Typography, useMediaQuery } from \"@material-ui/core\";\nimport { Avatar, Tooltip, Chip } from \"@material-ui/core\";\nimport AvatarGroup from \"@material-ui/lab/AvatarGroup\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { useN01SwitchStyles } from \"@mui-treasury/styles/switch/n01\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport HoverRating from \"../../Rating/Rating\";\nimport CourseTabs from \"./CourseTabs/CourseTabs\";\nimport ShowcaseCard from \"../CourseCard/ShowcaseCard\";\nimport * as actions from \"../../../store/actions\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nconst useStyles = makeStyles(theme => ({\n  position: {\n    marginTop: \"5%\",\n    [theme.breakpoints.up(\"md\")]: {\n      position: \"fixed\",\n      marginTop: \"8%\",\n      marginLeft: \"5%\"\n    }\n  },\n  chipBox: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      margin: theme.spacing(0.5)\n    }\n  }\n}));\n\nfunction CourseDetail(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matchMD = useMediaQuery(theme.breakpoints.up(\"md\"));\n  const myInfo = JSON.parse(localStorage.getItem(\"user\"));\n  const {\n    courseDetail,\n    loading,\n    match,\n    userList\n  } = props;\n  const {\n    onFetchCourseDetail,\n    onFetchUserListInThisCourse\n  } = props;\n  const switchStyles = useN01SwitchStyles();\n  const [onShow, setOnShow] = useState(false);\n  let nguoiTao;\n\n  if (courseDetail.nguoiTao) {\n    nguoiTao = courseDetail.nguoiTao.hoTen;\n  }\n\n  useEffect(() => {\n    onFetchCourseDetail(match.params.id);\n  }, [match.params.id, onFetchCourseDetail]);\n  useEffect(() => {\n    onFetchUserListInThisCourse(match.params.id);\n  }, [match.params.id, onFetchUserListInThisCourse]);\n  let nameList = [];\n  let userListRender;\n\n  if (userList && userList.lstHocVien) {\n    userListRender = /*#__PURE__*/React.createElement(Box, {\n      mx: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(AvatarGroup, {\n      max: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, userList.lstHocVien.map((user, index) => {\n      nameList.push(user.taiKhoan);\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        key: user.taiKhoan,\n        title: user.taiKhoan,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        alt: user.hoTen,\n        src: `https://i.pravatar.cc/150?img=${index + 1}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }));\n    })));\n  }\n\n  let showAllUserRender;\n\n  if (onShow && nameList) {\n    showAllUserRender = /*#__PURE__*/React.createElement(Box, {\n      className: classes.chipBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, nameList.map((name, index) => /*#__PURE__*/React.createElement(Chip, {\n      key: `${name}${index}`,\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        alt: name,\n        src: `https://i.pravatar.cc/150?img=${index + 1}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }),\n      label: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  let isMe = false;\n\n  if (nameList && myInfo && nameList.length > 0) {\n    isMe = nameList.includes(myInfo.taiKhoan);\n  }\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: matchMD ? \"row\" : \"column-reverse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: matchMD ? 8 : 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    py: onShow ? 5 : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    alignItems: \"center\",\n    style: {\n      minHeight: 350\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    mx: 7,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"text\",\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }) : courseDetail.tenKhoaHoc), /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"text\",\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }) : courseDetail.moTa), /*#__PURE__*/React.createElement(HoverRating, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"text\",\n    width: \"50%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    mr: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"Created by \", nguoiTao), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \"Last updated \", courseDetail.ngayTao))), myInfo ? /*#__PURE__*/React.createElement(Box, {\n    my: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"text\",\n    width: \"60%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    ml: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(PersonAddIcon, {\n    fontSize: \"small\",\n    style: {\n      margin: \"0 10\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 27\n    }\n  }), userList && userList.lstHocVien ? userList.lstHocVien.length : \"0\"), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, \"Enerolled\")), userListRender, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Show All\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    classes: switchStyles,\n    checked: onShow,\n    onChange: e => setOnShow(e.target.checked),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  })))) : null, showAllUserRender))), /*#__PURE__*/React.createElement(CourseTabs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: matchMD ? 4 : 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    mx: 2,\n    className: classes.position,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ShowcaseCard, {\n    isMe: isMe,\n    loading: loading,\n    imageLink: courseDetail.hinhAnh,\n    courseId: match.params.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    courseDetail: state.courses.courseDetail,\n    loading: state.courses.loading,\n    userList: state.user.userList\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchCourseDetail: courseId => dispatch(actions.fetchCourseDetail(courseId)),\n    onFetchUserListInThisCourse: courseId => dispatch(actions.fetchUserListInThisCourse(courseId))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CourseDetail));","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/components/CourseList/CourseDetail/CourseDetail.js"],"names":["React","useEffect","useState","connect","withRouter","makeStyles","useTheme","Box","Grid","Typography","useMediaQuery","Avatar","Tooltip","Chip","AvatarGroup","Switch","useN01SwitchStyles","PersonAddIcon","HoverRating","CourseTabs","ShowcaseCard","actions","Skeleton","useStyles","theme","position","marginTop","breakpoints","up","marginLeft","chipBox","display","flexWrap","margin","spacing","CourseDetail","props","classes","matchMD","myInfo","JSON","parse","localStorage","getItem","courseDetail","loading","match","userList","onFetchCourseDetail","onFetchUserListInThisCourse","switchStyles","onShow","setOnShow","nguoiTao","hoTen","params","id","nameList","userListRender","lstHocVien","map","user","index","push","taiKhoan","showAllUserRender","name","isMe","length","includes","minHeight","tenKhoaHoc","moTa","ngayTao","e","target","checked","hinhAnh","mapStateToProps","state","courses","mapDispatchToProps","dispatch","courseId","fetchCourseDetail","fetchUserListInThisCourse"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,0BAArC;AAEA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,UAApB,EAAgCC,aAAhC,QAAqD,mBAArD;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,IAA1B,QAAsC,mBAAtC;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AAEA,OAAOC,aAAP,MAA0B,8BAA1B;AAEA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AAEA,OAAO,KAAKC,OAAZ,MAAyB,wBAAzB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AAEA,MAAMC,SAAS,GAAGlB,UAAU,CAAEmB,KAAD,KAAY;AACvCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAE,IADH;AAER,KAACF,KAAK,CAACG,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BH,MAAAA,QAAQ,EAAE,OADkB;AAE5BC,MAAAA,SAAS,EAAE,IAFiB;AAG5BG,MAAAA,UAAU,EAAE;AAHgB;AAFtB,GAD6B;AASvCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,MADF;AAEPC,IAAAA,QAAQ,EAAE,MAFH;AAGP,aAAS;AACPC,MAAAA,MAAM,EAAET,KAAK,CAACU,OAAN,CAAc,GAAd;AADD;AAHF;AAT8B,CAAZ,CAAD,CAA5B;;AAkBA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAMC,OAAO,GAAGd,SAAS,EAAzB;AACA,QAAMC,KAAK,GAAGlB,QAAQ,EAAtB;AACA,QAAMgC,OAAO,GAAG5B,aAAa,CAACc,KAAK,CAACG,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,CAA7B;AACA,QAAMW,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAf;AACA,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,OAAhB;AAAyBC,IAAAA,KAAzB;AAAgCC,IAAAA;AAAhC,MAA6CX,KAAnD;AACA,QAAM;AAAEY,IAAAA,mBAAF;AAAuBC,IAAAA;AAAvB,MAAuDb,KAA7D;AAEA,QAAMc,YAAY,GAAGlC,kBAAkB,EAAvC;AACA,QAAM,CAACmC,MAAD,EAASC,SAAT,IAAsBlD,QAAQ,CAAC,KAAD,CAApC;AAEA,MAAImD,QAAJ;;AACA,MAAIT,YAAY,CAACS,QAAjB,EAA2B;AACzBA,IAAAA,QAAQ,GAAGT,YAAY,CAACS,QAAb,CAAsBC,KAAjC;AACD;;AAEDrD,EAAAA,SAAS,CAAC,MAAM;AACd+C,IAAAA,mBAAmB,CAACF,KAAK,CAACS,MAAN,CAAaC,EAAd,CAAnB;AACD,GAFQ,EAEN,CAACV,KAAK,CAACS,MAAN,CAAaC,EAAd,EAAkBR,mBAAlB,CAFM,CAAT;AAIA/C,EAAAA,SAAS,CAAC,MAAM;AACdgD,IAAAA,2BAA2B,CAACH,KAAK,CAACS,MAAN,CAAaC,EAAd,CAA3B;AACD,GAFQ,EAEN,CAACV,KAAK,CAACS,MAAN,CAAaC,EAAd,EAAkBP,2BAAlB,CAFM,CAAT;AAIA,MAAIQ,QAAQ,GAAG,EAAf;AACA,MAAIC,cAAJ;;AACA,MAAIX,QAAQ,IAAIA,QAAQ,CAACY,UAAzB,EAAqC;AACnCD,IAAAA,cAAc,gBACZ,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAE,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGX,QAAQ,CAACY,UAAT,CAAoBC,GAApB,CAAwB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxCL,MAAAA,QAAQ,CAACM,IAAT,CAAcF,IAAI,CAACG,QAAnB;AACA,0BACE,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAEH,IAAI,CAACG,QAAnB;AAA6B,QAAA,KAAK,EAAEH,IAAI,CAACG,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AACE,QAAA,GAAG,EAAEH,IAAI,CAACP,KADZ;AAEE,QAAA,GAAG,EAAG,iCAAgCQ,KAAK,GAAG,CAAE,EAFlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAQD,KAVA,CADH,CADF,CADF;AAiBD;;AAED,MAAIG,iBAAJ;;AACA,MAAId,MAAM,IAAIM,QAAd,EAAwB;AACtBQ,IAAAA,iBAAiB,gBACf,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAE5B,OAAO,CAACP,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG2B,QAAQ,CAACG,GAAT,CAAa,CAACM,IAAD,EAAOJ,KAAP,kBACZ,oBAAC,IAAD;AACE,MAAA,GAAG,EAAG,GAAEI,IAAK,GAAEJ,KAAM,EADvB;AAEE,MAAA,MAAM,eACJ,oBAAC,MAAD;AACE,QAAA,GAAG,EAAEI,IADP;AAEE,QAAA,GAAG,EAAG,iCAAgCJ,KAAK,GAAG,CAAE,EAFlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ;AAQE,MAAA,KAAK,EAAEI,IART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADH,CADF;AAgBD;;AAED,MAAIC,IAAI,GAAG,KAAX;;AACA,MAAIV,QAAQ,IAAIlB,MAAZ,IAAsBkB,QAAQ,CAACW,MAAT,GAAkB,CAA5C,EAA+C;AAC7CD,IAAAA,IAAI,GAAGV,QAAQ,CAACY,QAAT,CAAkB9B,MAAM,CAACyB,QAAzB,CAAP;AACD;;AAED,sBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,SAAS,EAAE1B,OAAO,GAAG,KAAH,GAAW,gBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAEA,OAAO,GAAG,CAAH,GAAO,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAEa,MAAM,GAAG,CAAH,GAAO,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,UAAU,EAAC,QAA3B;AAAoC,IAAA,KAAK,EAAE;AAAEmB,MAAAA,SAAS,EAAE;AAAb,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,KAAK,EAAE,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAyB,IAAA,YAAY,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzB,OAAO,gBACN,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAC,MAAlB;AAAyB,IAAA,KAAK,EAAE,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,GAGND,YAAY,CAAC2B,UAJjB,CADF,eAQE,oBAAC,UAAD;AAAY,IAAA,YAAY,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1B,OAAO,gBACN,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAC,MAAlB;AAAyB,IAAA,KAAK,EAAE,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,GAGND,YAAY,CAAC4B,IAJjB,CARF,eAeE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,eAiBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3B,OAAO,gBACN,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAC,MAAlB;AAAyB,IAAA,KAAK,EAAE,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,gBAGN,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,UAAU,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAwBQ,QAAxB,CADF,eAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAmBT,YAAY,CAAC6B,OAAhC,CAFF,CAJJ,CAjBF,EA4BGlC,MAAM,gBACL,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGM,OAAO,gBACN,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAC,MAAlB;AAAyB,IAAA,KAAK,EAAE,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,gBAGN,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,UAAU,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,aAAa,EAAC,QAAlC;AAA2C,IAAA,EAAE,EAAE,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,UAAU,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,QAAQ,EAAC,OADX;AAEE,IAAA,KAAK,EAAE;AAAEZ,MAAAA,MAAM,EAAE;AAAV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAKGc,QAAQ,IAAIA,QAAQ,CAACY,UAArB,GACGZ,QAAQ,CAACY,UAAT,CAAoBS,MADvB,GAEG,GAPN,CADF,eAUE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVF,CADF,EAaGV,cAbH,eAcE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAER,YADX;AAEE,IAAA,OAAO,EAAEC,MAFX;AAGE,IAAA,QAAQ,EAAGuB,CAAD,IAAOtB,SAAS,CAACsB,CAAC,CAACC,MAAF,CAASC,OAAV,CAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAdF,CAJJ,CADK,GA6BH,IAzDN,EA2DGX,iBA3DH,CADF,CADF,CADF,eAmEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnEF,CADF,eAuEE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE3B,OAAO,GAAG,CAAH,GAAO,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,SAAS,EAAED,OAAO,CAACZ,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,IAAI,EAAE0C,IADR;AAEE,IAAA,OAAO,EAAEtB,OAFX;AAGE,IAAA,SAAS,EAAED,YAAY,CAACiC,OAH1B;AAIE,IAAA,QAAQ,EAAE/B,KAAK,CAACS,MAAN,CAAaC,EAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAvEF,CADF;AAoFD;;AAED,MAAMsB,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACLnC,IAAAA,YAAY,EAAEmC,KAAK,CAACC,OAAN,CAAcpC,YADvB;AAELC,IAAAA,OAAO,EAAEkC,KAAK,CAACC,OAAN,CAAcnC,OAFlB;AAGLE,IAAAA,QAAQ,EAAEgC,KAAK,CAAClB,IAAN,CAAWd;AAHhB,GAAP;AAKD,CAND;;AAQA,MAAMkC,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLlC,IAAAA,mBAAmB,EAAGmC,QAAD,IACnBD,QAAQ,CAAC7D,OAAO,CAAC+D,iBAAR,CAA0BD,QAA1B,CAAD,CAFL;AAGLlC,IAAAA,2BAA2B,EAAGkC,QAAD,IAC3BD,QAAQ,CAAC7D,OAAO,CAACgE,yBAAR,CAAkCF,QAAlC,CAAD;AAJL,GAAP;AAMD,CAPD;;AASA,eAAehF,OAAO,CACpB2E,eADoB,EAEpBG,kBAFoB,CAAP,CAGb7E,UAAU,CAAC+B,YAAD,CAHG,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport { Box, Grid, Typography, useMediaQuery } from \"@material-ui/core\";\r\nimport { Avatar, Tooltip, Chip } from \"@material-ui/core\";\r\nimport AvatarGroup from \"@material-ui/lab/AvatarGroup\";\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { useN01SwitchStyles } from \"@mui-treasury/styles/switch/n01\";\r\n\r\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\r\n\r\nimport HoverRating from \"../../Rating/Rating\";\r\nimport CourseTabs from \"./CourseTabs/CourseTabs\";\r\nimport ShowcaseCard from \"../CourseCard/ShowcaseCard\";\r\n\r\nimport * as actions from \"../../../store/actions\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  position: {\r\n    marginTop: \"5%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      position: \"fixed\",\r\n      marginTop: \"8%\",\r\n      marginLeft: \"5%\",\r\n    },\r\n  },\r\n  chipBox: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(0.5),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction CourseDetail(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const matchMD = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const myInfo = JSON.parse(localStorage.getItem(\"user\"));\r\n  const { courseDetail, loading, match, userList } = props;\r\n  const { onFetchCourseDetail, onFetchUserListInThisCourse } = props;\r\n\r\n  const switchStyles = useN01SwitchStyles();\r\n  const [onShow, setOnShow] = useState(false);\r\n\r\n  let nguoiTao;\r\n  if (courseDetail.nguoiTao) {\r\n    nguoiTao = courseDetail.nguoiTao.hoTen;\r\n  }\r\n\r\n  useEffect(() => {\r\n    onFetchCourseDetail(match.params.id);\r\n  }, [match.params.id, onFetchCourseDetail]);\r\n\r\n  useEffect(() => {\r\n    onFetchUserListInThisCourse(match.params.id);\r\n  }, [match.params.id, onFetchUserListInThisCourse]);\r\n\r\n  let nameList = [];\r\n  let userListRender;\r\n  if (userList && userList.lstHocVien) {\r\n    userListRender = (\r\n      <Box mx={3}>\r\n        <AvatarGroup max={6}>\r\n          {userList.lstHocVien.map((user, index) => {\r\n            nameList.push(user.taiKhoan);\r\n            return (\r\n              <Tooltip key={user.taiKhoan} title={user.taiKhoan}>\r\n                <Avatar\r\n                  alt={user.hoTen}\r\n                  src={`https://i.pravatar.cc/150?img=${index + 1}`}\r\n                />\r\n              </Tooltip>\r\n            );\r\n          })}\r\n        </AvatarGroup>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  let showAllUserRender;\r\n  if (onShow && nameList) {\r\n    showAllUserRender = (\r\n      <Box className={classes.chipBox}>\r\n        {nameList.map((name, index) => (\r\n          <Chip\r\n            key={`${name}${index}`}\r\n            avatar={\r\n              <Avatar\r\n                alt={name}\r\n                src={`https://i.pravatar.cc/150?img=${index + 1}`}\r\n              />\r\n            }\r\n            label={name}\r\n          />\r\n        ))}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  let isMe = false;\r\n  if (nameList && myInfo && nameList.length > 0) {\r\n    isMe = nameList.includes(myInfo.taiKhoan);\r\n  }\r\n\r\n  return (\r\n    <Grid container direction={matchMD ? \"row\" : \"column-reverse\"}>\r\n      <Grid item xs={matchMD ? 8 : 12}>\r\n        <Box py={onShow ? 5 : 0}>\r\n          <Grid container alignItems=\"center\" style={{ minHeight: 350 }}>\r\n            <Box mx={7} width={\"100%\"}>\r\n              <Typography variant=\"h4\" gutterBottom>\r\n                {loading ? (\r\n                  <Skeleton variant=\"text\" width={\"100%\"} />\r\n                ) : (\r\n                  courseDetail.tenKhoaHoc\r\n                )}\r\n              </Typography>\r\n              <Typography gutterBottom>\r\n                {loading ? (\r\n                  <Skeleton variant=\"text\" width={\"100%\"} />\r\n                ) : (\r\n                  courseDetail.moTa\r\n                )}\r\n              </Typography>\r\n              <HoverRating />\r\n\r\n              <Box>\r\n                {loading ? (\r\n                  <Skeleton variant=\"text\" width={\"50%\"} />\r\n                ) : (\r\n                  <Grid container alignItems=\"center\">\r\n                    <Box mr={3}>Created by {nguoiTao}</Box>\r\n                    <Box>Last updated {courseDetail.ngayTao}</Box>\r\n                  </Grid>\r\n                )}\r\n              </Box>\r\n\r\n              {myInfo ? (\r\n                <Box my={2}>\r\n                  {loading ? (\r\n                    <Skeleton variant=\"text\" width={\"60%\"} />\r\n                  ) : (\r\n                    <Grid container alignItems=\"center\">\r\n                      <Box display=\"flex\" flexDirection=\"column\" ml={1}>\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <PersonAddIcon\r\n                            fontSize=\"small\"\r\n                            style={{ margin: \"0 10\" }}\r\n                          />\r\n                          {userList && userList.lstHocVien\r\n                            ? userList.lstHocVien.length\r\n                            : \"0\"}\r\n                        </Box>\r\n                        <Typography>Enerolled</Typography>\r\n                      </Box>\r\n                      {userListRender}\r\n                      <Tooltip title=\"Show All\">\r\n                        <Switch\r\n                          classes={switchStyles}\r\n                          checked={onShow}\r\n                          onChange={(e) => setOnShow(e.target.checked)}\r\n                        />\r\n                      </Tooltip>\r\n                    </Grid>\r\n                  )}\r\n                </Box>\r\n              ) : null}\r\n\r\n              {showAllUserRender}\r\n            </Box>\r\n          </Grid>\r\n        </Box>\r\n        {/* Detail */}\r\n        <CourseTabs />\r\n      </Grid>\r\n\r\n      <Grid item xs={matchMD ? 4 : 12}>\r\n        <Box mx={2} className={classes.position}>\r\n          <ShowcaseCard\r\n            isMe={isMe}\r\n            loading={loading}\r\n            imageLink={courseDetail.hinhAnh}\r\n            courseId={match.params.id}\r\n          />\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    courseDetail: state.courses.courseDetail,\r\n    loading: state.courses.loading,\r\n    userList: state.user.userList,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFetchCourseDetail: (courseId) =>\r\n      dispatch(actions.fetchCourseDetail(courseId)),\r\n    onFetchUserListInThisCourse: (courseId) =>\r\n      dispatch(actions.fetchUserListInThisCourse(courseId)),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(CourseDetail));\r\n"]},"metadata":{},"sourceType":"module"}