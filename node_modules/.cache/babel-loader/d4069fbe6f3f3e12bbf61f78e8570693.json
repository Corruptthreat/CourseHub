{"ast":null,"code":"import axios from\"../../axios\";import*as actionTypes from\"./actionTypes\";export var fetchInfoClick=function fetchInfoClick(selectedUser,tabIndex,avatarIndex){return{type:actionTypes.FETCH_INFO_CLICK,tabIndex:tabIndex&&Math.abs(tabIndex)!==1?-tabIndex:2,isEdit:false,selectedUser:selectedUser,avatarIndex:avatarIndex};};export var editUserClick=function editUserClick(selectedUser,tabIndex){return{type:actionTypes.EDIT_USER_CLICK,tabIndex:tabIndex&&Math.abs(tabIndex)!==2?-tabIndex:1,isEdit:true,selectedUser:selectedUser};};export var addUserClick=function addUserClick(){return{type:actionTypes.ADD_USER_CLICK,tabIndex:-1,isEdit:false};};export var fetchUsersStart=function fetchUsersStart(){return{type:actionTypes.FETCH_USERS_START};};export var fetchUsersSuccess=function fetchUsersSuccess(userList){return{type:actionTypes.FETCH_USERS_SUCCESS,userList:userList};};export var fetchUsersFail=function fetchUsersFail(error){return{type:actionTypes.FETCH_USERS_FAIL,error:error};};export var fetchUsers=function fetchUsers(group){return function(dispatch){dispatch(fetchUsersStart());axios.get(\"/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=\".concat(group)).then(function(response){dispatch(fetchUsersSuccess(response.data));}).catch(function(error){dispatch(fetchUsersFail(error));});};};export var fetchCourseApprovalPendingStart=function fetchCourseApprovalPendingStart(){return{type:actionTypes.FETCH_COURSE_APPROVAL_PENDING_START};};export var fetchCourseApprovalPendingSuccess=function fetchCourseApprovalPendingSuccess(success,selectedUser){return{type:actionTypes.FETCH_COURSE_APPROVAL_PENDING_SUCCESS,success:success,selectedUser:selectedUser};};export var fetchCourseApprovalPendingFail=function fetchCourseApprovalPendingFail(error){return{type:actionTypes.FETCH_COURSE_APPROVAL_PENDING_FAIL,error:error};};export var fetchCourseApprovalPending=function fetchCourseApprovalPending(selectedUser){return function(dispatch){dispatch(fetchCourseApprovalPendingStart());var user=JSON.parse(localStorage.getItem(\"user\"));var url=\"/QuanLyNguoiDung/LayDanhSachKhoaHocChoXetDuyet\";var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};var data={taiKhoan:selectedUser.taiKhoan};axios({method:\"post\",url:url,headers:headers,data:data}).then(function(response){dispatch(fetchCourseApprovalPendingSuccess(response.data,selectedUser));}).catch(function(error){dispatch(fetchCourseApprovalPendingFail(error.response.data));});};};export var deleteUserStart=function deleteUserStart(){return{type:actionTypes.DELETE_USER_START};};export var deleteUserSuccess=function deleteUserSuccess(success){return{type:actionTypes.DELETE_USER_SUCCESS,success:success};};export var deleteUserFail=function deleteUserFail(error){return{type:actionTypes.DELETE_USER_FAIL,error:error};};export var deleteUser=function deleteUser(selectedUser,group){return function(dispatch){dispatch(deleteUserStart());var user=JSON.parse(localStorage.getItem(\"user\"));var url=\"/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=\".concat(selectedUser.taiKhoan);var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};axios({method:\"delete\",url:url,headers:headers}).then(function(response){dispatch(deleteUserSuccess(response.data));dispatch(fetchUsers(group));}).catch(function(error){dispatch(deleteUserFail(error.response.data));});};};export var addUserStart=function addUserStart(){return{type:actionTypes.ADD_USER_START};};export var addUserSuccess=function addUserSuccess(success){return{type:actionTypes.ADD_USER_SUCCESS,success:success};};export var addUserFail=function addUserFail(error){return{type:actionTypes.ADD_USER_FAIL,error:error};};export var addUser=function addUser(values,isEdit,tabIndex,group){return function(dispatch){dispatch(addUserStart());var user=JSON.parse(localStorage.getItem(\"user\"));var method=\"post\";var url=\"/QuanLyNguoiDung/ThemNguoiDung\";if(isEdit){method=\"put\";url=\"/QuanLyNguoiDung/CapNhatThongTinNguoiDung\";}var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};var data={taiKhoan:values.username,matKhau:values.password,hoTen:values.name,soDT:values.phone,maNhom:values.group,email:values.email,maLoaiNguoiDung:values.accountType};axios({method:method,url:url,headers:headers,data:data}).then(function(response){if(isEdit){dispatch(addUserSuccess(\"C\\u1EADp nh\\u1EADt t\\xE0i kho\\u1EA3n \".concat(response.data.taiKhoan,\" th\\xE0nh c\\xF4ng!\")));dispatch(fetchUsers(group));// simulating Click to refresh edit page\ndispatch(editUserClick(response.data,tabIndex));}else{dispatch(addUserSuccess(\"Th\\xEAm t\\xE0i kho\\u1EA3n \".concat(response.data.taiKhoan,\" th\\xE0nh c\\xF4ng!\")));dispatch(fetchUsers(group));}}).catch(function(error){dispatch(addUserFail(error.response.data));});};};export var approveCoursePendingStart=function approveCoursePendingStart(){return{type:actionTypes.APPROVE_COURSE_PENDING_START};};export var approveCoursePendingSuccess=function approveCoursePendingSuccess(success){return{type:actionTypes.APPROVE_COURSE_PENDING_SUCCESS,success:success};};export var approveCoursePendingFail=function approveCoursePendingFail(error){return{type:actionTypes.APPROVE_COURSE_PENDING_FAIL,error:error};};export var approveCoursePending=function approveCoursePending(courseId,selectedUser){return function(dispatch){dispatch(approveCoursePendingStart());var user=JSON.parse(localStorage.getItem(\"user\"));var url=\"/QuanLyKhoaHoc/GhiDanhKhoaHoc\";var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};var data={maKhoaHoc:courseId,taiKhoan:selectedUser.taiKhoan};axios({method:\"post\",url:url,headers:headers,data:data}).then(function(response){// console.log(response.data);\ndispatch(approveCoursePendingSuccess(response.data));dispatch(fetchCourseApprovalPending(selectedUser));dispatch(fetchCourseApproved(selectedUser));dispatch(fetchCourseNoneEnroll(selectedUser));}).catch(function(error){console.log(error.response.data);dispatch(approveCoursePendingFail(error.response.data));});};};export var fetchCourseApprovedStart=function fetchCourseApprovedStart(){return{type:actionTypes.FETCH_COURSE_APPROVED_START};};export var fetchCourseApprovedSuccess=function fetchCourseApprovedSuccess(success,selectedUser){return{type:actionTypes.FETCH_COURSE_APPROVED_SUCCESS,success:success,selectedUser:selectedUser};};export var fetchCourseApprovedFail=function fetchCourseApprovedFail(error){return{type:actionTypes.FETCH_COURSE_APPROVED_FAIL,error:error};};export var fetchCourseApproved=function fetchCourseApproved(selectedUser){return function(dispatch){dispatch(fetchCourseApprovedStart());var user=JSON.parse(localStorage.getItem(\"user\"));var url=\"/QuanLyNguoiDung/LayDanhSachKhoaHocDaXetDuyet\";var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};var data={taiKhoan:selectedUser.taiKhoan};axios({method:\"post\",url:url,headers:headers,data:data}).then(function(response){dispatch(fetchCourseApprovedSuccess(response.data,selectedUser));}).catch(function(error){dispatch(fetchCourseApprovedFail(error.response.data));});};};export var disapproveCourseStart=function disapproveCourseStart(){return{type:actionTypes.DISAPPROVE_COURSE_START};};export var disapproveCourseSuccess=function disapproveCourseSuccess(success){return{type:actionTypes.DISAPPROVE_COURSE_SUCCESS,success:success};};export var disapproveCourseFail=function disapproveCourseFail(error){return{type:actionTypes.DISAPPROVE_COURSE_FAIL,error:error};};export var disapproveCourse=function disapproveCourse(courseId,selectedUser){return function(dispatch){dispatch(disapproveCourseStart());var user=JSON.parse(localStorage.getItem(\"user\"));var url=\"/QuanLyKhoaHoc/HuyGhiDanh\";var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};var data={maKhoaHoc:courseId,taiKhoan:selectedUser.taiKhoan};axios({method:\"post\",url:url,headers:headers,data:data}).then(function(response){dispatch(disapproveCourseSuccess(response.data));dispatch(fetchCourseApproved(selectedUser));dispatch(fetchCourseApprovalPending(selectedUser));}).catch(function(error){dispatch(disapproveCourseFail(error.response.data));});};};export var fetchCourseNoneEnrollStart=function fetchCourseNoneEnrollStart(){return{type:actionTypes.FETCH_COURSE_NONE_ENROLL_START};};export var fetchCourseNoneEnrollSuccess=function fetchCourseNoneEnrollSuccess(success,selectedUser){return{type:actionTypes.FETCH_COURSE_NONE_ENROLL_SUCCESS,success:success,selectedUser:selectedUser};};export var fetchCourseNoneEnrollFail=function fetchCourseNoneEnrollFail(error){return{type:actionTypes.FETCH_COURSE_NONE_ENROLL_FAIL,error:error};};export var fetchCourseNoneEnroll=function fetchCourseNoneEnroll(selectedUser){return function(dispatch){dispatch(fetchCourseNoneEnrollStart());var user=JSON.parse(localStorage.getItem(\"user\"));var url=\"/QuanLyNguoiDung/LayDanhSachKhoaHocChuaGhiDanh?TaiKhoan=\".concat(selectedUser.taiKhoan);var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};axios({method:\"post\",url:url,headers:headers}).then(function(response){dispatch(fetchCourseNoneEnrollSuccess(response.data,selectedUser));}).catch(function(error){dispatch(fetchCourseNoneEnrollFail(error.response.data));});};};export var searchUserStart=function searchUserStart(){return{type:actionTypes.SEARCH_USER_START};};export var searchUserSuccess=function searchUserSuccess(userList){return{type:actionTypes.SEARCH_USER_SUCCESS,userList:userList};};export var searchUserFail=function searchUserFail(error){return{type:actionTypes.SEARCH_USER_FAIL,error:error};};export var searchUser=function searchUser(keyWord,group){return function(dispatch){dispatch(searchUserStart());axios.get(\"/QuanLyNguoiDung/TimKiemNguoiDung?MaNhom=\".concat(group,\"&tuKhoa=\").concat(keyWord)).then(function(response){!keyWord?dispatch(fetchUsers(group)):dispatch(searchUserSuccess(response.data));}).catch(function(error){dispatch(searchUserFail(error));});};};","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/store/actions/usersManager.js"],"names":["axios","actionTypes","fetchInfoClick","selectedUser","tabIndex","avatarIndex","type","FETCH_INFO_CLICK","Math","abs","isEdit","editUserClick","EDIT_USER_CLICK","addUserClick","ADD_USER_CLICK","fetchUsersStart","FETCH_USERS_START","fetchUsersSuccess","userList","FETCH_USERS_SUCCESS","fetchUsersFail","error","FETCH_USERS_FAIL","fetchUsers","group","dispatch","get","then","response","data","catch","fetchCourseApprovalPendingStart","FETCH_COURSE_APPROVAL_PENDING_START","fetchCourseApprovalPendingSuccess","success","FETCH_COURSE_APPROVAL_PENDING_SUCCESS","fetchCourseApprovalPendingFail","FETCH_COURSE_APPROVAL_PENDING_FAIL","fetchCourseApprovalPending","user","JSON","parse","localStorage","getItem","url","headers","Authorization","accessToken","taiKhoan","method","deleteUserStart","DELETE_USER_START","deleteUserSuccess","DELETE_USER_SUCCESS","deleteUserFail","DELETE_USER_FAIL","deleteUser","addUserStart","ADD_USER_START","addUserSuccess","ADD_USER_SUCCESS","addUserFail","ADD_USER_FAIL","addUser","values","username","matKhau","password","hoTen","name","soDT","phone","maNhom","email","maLoaiNguoiDung","accountType","approveCoursePendingStart","APPROVE_COURSE_PENDING_START","approveCoursePendingSuccess","APPROVE_COURSE_PENDING_SUCCESS","approveCoursePendingFail","APPROVE_COURSE_PENDING_FAIL","approveCoursePending","courseId","maKhoaHoc","fetchCourseApproved","fetchCourseNoneEnroll","console","log","fetchCourseApprovedStart","FETCH_COURSE_APPROVED_START","fetchCourseApprovedSuccess","FETCH_COURSE_APPROVED_SUCCESS","fetchCourseApprovedFail","FETCH_COURSE_APPROVED_FAIL","disapproveCourseStart","DISAPPROVE_COURSE_START","disapproveCourseSuccess","DISAPPROVE_COURSE_SUCCESS","disapproveCourseFail","DISAPPROVE_COURSE_FAIL","disapproveCourse","fetchCourseNoneEnrollStart","FETCH_COURSE_NONE_ENROLL_START","fetchCourseNoneEnrollSuccess","FETCH_COURSE_NONE_ENROLL_SUCCESS","fetchCourseNoneEnrollFail","FETCH_COURSE_NONE_ENROLL_FAIL","searchUserStart","SEARCH_USER_START","searchUserSuccess","SEARCH_USER_SUCCESS","searchUserFail","SEARCH_USER_FAIL","searchUser","keyWord"],"mappings":"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","sourcesContent":["import axios from \"../../axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\n\r\nexport const fetchInfoClick = (selectedUser, tabIndex, avatarIndex) => {\r\n  return {\r\n    type: actionTypes.FETCH_INFO_CLICK,\r\n    tabIndex: tabIndex && Math.abs(tabIndex) !== 1 ? -tabIndex : 2,\r\n    isEdit: false,\r\n    selectedUser: selectedUser,\r\n    avatarIndex: avatarIndex,\r\n  };\r\n};\r\n\r\nexport const editUserClick = (selectedUser, tabIndex) => {\r\n  return {\r\n    type: actionTypes.EDIT_USER_CLICK,\r\n    tabIndex: tabIndex && Math.abs(tabIndex) !== 2 ? -tabIndex : 1,\r\n    isEdit: true,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const addUserClick = () => {\r\n  return {\r\n    type: actionTypes.ADD_USER_CLICK,\r\n    tabIndex: -1,\r\n    isEdit: false,\r\n  };\r\n};\r\n\r\nexport const fetchUsersStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS_START,\r\n  };\r\n};\r\n\r\nexport const fetchUsersSuccess = (userList) => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS_SUCCESS,\r\n    userList: userList,\r\n  };\r\n};\r\n\r\nexport const fetchUsersFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchUsers = (group) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchUsersStart());\r\n    axios\r\n      .get(`/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=${group}`)\r\n      .then((response) => {\r\n        dispatch(fetchUsersSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchUsersFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPendingStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPendingSuccess = (success, selectedUser) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_SUCCESS,\r\n    success: success,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPendingFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVAL_PENDING_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovalPending = (selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseApprovalPendingStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyNguoiDung/LayDanhSachKhoaHocChoXetDuyet\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        dispatch(\r\n          fetchCourseApprovalPendingSuccess(response.data, selectedUser)\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseApprovalPendingFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const deleteUserStart = () => {\r\n  return {\r\n    type: actionTypes.DELETE_USER_START,\r\n  };\r\n};\r\n\r\nexport const deleteUserSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.DELETE_USER_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const deleteUserFail = (error) => {\r\n  return {\r\n    type: actionTypes.DELETE_USER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const deleteUser = (selectedUser, group) => {\r\n  return (dispatch) => {\r\n    dispatch(deleteUserStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = `/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=${selectedUser.taiKhoan}`;\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    axios({ method: \"delete\", url, headers })\r\n      .then((response) => {\r\n        dispatch(deleteUserSuccess(response.data));\r\n        dispatch(fetchUsers(group));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(deleteUserFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const addUserStart = () => {\r\n  return {\r\n    type: actionTypes.ADD_USER_START,\r\n  };\r\n};\r\n\r\nexport const addUserSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.ADD_USER_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const addUserFail = (error) => {\r\n  return {\r\n    type: actionTypes.ADD_USER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const addUser = (values, isEdit, tabIndex, group) => {\r\n  return (dispatch) => {\r\n    dispatch(addUserStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n    let method = \"post\";\r\n    let url = \"/QuanLyNguoiDung/ThemNguoiDung\";\r\n    if (isEdit) {\r\n      method = \"put\";\r\n      url = \"/QuanLyNguoiDung/CapNhatThongTinNguoiDung\";\r\n    }\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: values.username,\r\n      matKhau: values.password,\r\n      hoTen: values.name,\r\n      soDT: values.phone,\r\n      maNhom: values.group,\r\n      email: values.email,\r\n      maLoaiNguoiDung: values.accountType,\r\n    };\r\n    axios({ method, url, headers, data })\r\n      .then((response) => {\r\n        if (isEdit) {\r\n          dispatch(\r\n            addUserSuccess(\r\n              `Cập nhật tài khoản ${response.data.taiKhoan} thành công!`\r\n            )\r\n          );\r\n          dispatch(fetchUsers(group));\r\n          // simulating Click to refresh edit page\r\n          dispatch(editUserClick(response.data, tabIndex));\r\n        } else {\r\n          dispatch(\r\n            addUserSuccess(\r\n              `Thêm tài khoản ${response.data.taiKhoan} thành công!`\r\n            )\r\n          );\r\n          dispatch(fetchUsers(group));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(addUserFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const approveCoursePendingStart = () => {\r\n  return {\r\n    type: actionTypes.APPROVE_COURSE_PENDING_START,\r\n  };\r\n};\r\n\r\nexport const approveCoursePendingSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.APPROVE_COURSE_PENDING_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const approveCoursePendingFail = (error) => {\r\n  return {\r\n    type: actionTypes.APPROVE_COURSE_PENDING_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const approveCoursePending = (courseId, selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(approveCoursePendingStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyKhoaHoc/GhiDanhKhoaHoc\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      maKhoaHoc: courseId,\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        // console.log(response.data);\r\n        dispatch(approveCoursePendingSuccess(response.data));\r\n        dispatch(fetchCourseApprovalPending(selectedUser));\r\n        dispatch(fetchCourseApproved(selectedUser));\r\n        dispatch(fetchCourseNoneEnroll(selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data);\r\n        dispatch(approveCoursePendingFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovedStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVED_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovedSuccess = (success, selectedUser) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVED_SUCCESS,\r\n    success: success,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApprovedFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_APPROVED_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseApproved = (selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseApprovedStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyNguoiDung/LayDanhSachKhoaHocDaXetDuyet\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        dispatch(fetchCourseApprovedSuccess(response.data, selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseApprovedFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const disapproveCourseStart = () => {\r\n  return {\r\n    type: actionTypes.DISAPPROVE_COURSE_START,\r\n  };\r\n};\r\n\r\nexport const disapproveCourseSuccess = (success) => {\r\n  return {\r\n    type: actionTypes.DISAPPROVE_COURSE_SUCCESS,\r\n    success: success,\r\n  };\r\n};\r\n\r\nexport const disapproveCourseFail = (error) => {\r\n  return {\r\n    type: actionTypes.DISAPPROVE_COURSE_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const disapproveCourse = (courseId, selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(disapproveCourseStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyKhoaHoc/HuyGhiDanh\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      maKhoaHoc: courseId,\r\n      taiKhoan: selectedUser.taiKhoan,\r\n    };\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        dispatch(disapproveCourseSuccess(response.data));\r\n        dispatch(fetchCourseApproved(selectedUser));\r\n        dispatch(fetchCourseApprovalPending(selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(disapproveCourseFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnrollStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnrollSuccess = (success, selectedUser) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_SUCCESS,\r\n    success: success,\r\n    selectedUser: selectedUser,\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnrollFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_NONE_ENROLL_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseNoneEnroll = (selectedUser) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseNoneEnrollStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = `/QuanLyNguoiDung/LayDanhSachKhoaHocChuaGhiDanh?TaiKhoan=${selectedUser.taiKhoan}`;\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    axios({ method: \"post\", url, headers })\r\n      .then((response) => {\r\n        dispatch(fetchCourseNoneEnrollSuccess(response.data, selectedUser));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseNoneEnrollFail(error.response.data));\r\n      });\r\n  };\r\n};\r\n\r\nexport const searchUserStart = () => {\r\n  return {\r\n    type: actionTypes.SEARCH_USER_START,\r\n  };\r\n};\r\n\r\nexport const searchUserSuccess = (userList) => {\r\n  return {\r\n    type: actionTypes.SEARCH_USER_SUCCESS,\r\n    userList: userList,\r\n  };\r\n};\r\n\r\nexport const searchUserFail = (error) => {\r\n  return {\r\n    type: actionTypes.SEARCH_USER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const searchUser = (keyWord, group) => {\r\n  return (dispatch) => {\r\n    dispatch(searchUserStart());\r\n    axios\r\n      .get(\r\n        `/QuanLyNguoiDung/TimKiemNguoiDung?MaNhom=${group}&tuKhoa=${keyWord}`\r\n      )\r\n      .then((response) => {\r\n        !keyWord\r\n          ? dispatch(fetchUsers(group))\r\n          : dispatch(searchUserSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(searchUserFail(error));\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}