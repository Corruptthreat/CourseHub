{"ast":null,"code":"import _slicedToArray from\"/home/sudo-byte/CourseHub-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/sudo-byte/CourseHub-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect,Fragment}from\"react\";import{connect}from\"react-redux\";import{Grid,Box}from\"@material-ui/core\";import{GmailTabs,GmailTabItem}from\"@mui-treasury/components/tabs/gmail\";import{makeStyles}from\"@material-ui/core/styles\";import CourseCarousel from\"./CourseCarousel/CourseCarousel\";import*as actions from\"../../store/actions\";import SkeletonCard from\"../UI/SkeletonCard\";var useStyles=makeStyles(function(theme){return{gmailTabs:{backgroundColor:\"inherit\"},wrapper:{color:\"darkgray !important\"}};});function TabPanel(_ref){var children=_ref.children,tabNum=_ref.tabNum,index=_ref.index,other=_objectWithoutProperties(_ref,[\"children\",\"tabNum\",\"index\"]);return/*#__PURE__*/React.createElement(\"div\",Object.assign({role:\"tabpanel\",hidden:tabNum!==index,id:\"scrollable-force-tabpanel-\".concat(index),\"aria-labelledby\":\"scrollable-force-tab-\".concat(index)},other),tabNum===index&&/*#__PURE__*/React.createElement(Box,{p:3},children));}function a11yProps(index){return{id:\"scrollable-force-tab-\".concat(index),\"aria-controls\":\"scrollable-force-tabpanel-\".concat(index)};}function CourseList(props){var classes=useStyles();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),tabNum=_useState2[0],setTabNum=_useState2[1];var courseIndex=props.courseIndex,courseList=props.courseList,loading=props.loading;var onfetchCourseIndex=props.onfetchCourseIndex,onfetchCourses=props.onfetchCourses;useEffect(function(){onfetchCourseIndex(true);},[onfetchCourseIndex]);var handleChange=function handleChange(_,newValue){setTabNum(newValue);onfetchCourses(courseIndex[newValue].maDanhMuc);};var courseRender=/*#__PURE__*/React.createElement(SkeletonCard,null);if(!loading){courseRender=courseIndex.map(function(tab,index){return/*#__PURE__*/React.createElement(TabPanel,{tabNum:tabNum,index:index,key:tab.maDanhMuc},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",spacing:2},/*#__PURE__*/React.createElement(CourseCarousel,{courseList:courseList})));});}return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(GmailTabs,{value:tabNum,onChange:handleChange,variant:\"scrollable\",scrollButtons:\"on\",\"aria-label\":\"scrollable force tabs\",className:classes.gmailTabs},courseIndex.map(function(tab,index){return/*#__PURE__*/React.createElement(GmailTabItem,Object.assign({key:tab.maDanhMuc,label:tab.tenDanhMuc,classes:{wrapper:classes.wrapper}},a11yProps(index)));})),courseRender));}var mapStateToProps=function mapStateToProps(state){return{courseIndex:state.courses.courseIndex,courseList:state.courses.courseList,loading:state.courses.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onfetchCourseIndex:function onfetchCourseIndex(init){return dispatch(actions.fetchCourseIndex(init));},onfetchCourses:function onfetchCourses(courseIndex){return dispatch(actions.fetchCourses(courseIndex));}};};export default connect(mapStateToProps,mapDispatchToProps)(CourseList);","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/components/CourseList/CourseList.js"],"names":["React","useState","useEffect","Fragment","connect","Grid","Box","GmailTabs","GmailTabItem","makeStyles","CourseCarousel","actions","SkeletonCard","useStyles","theme","gmailTabs","backgroundColor","wrapper","color","TabPanel","children","tabNum","index","other","a11yProps","id","CourseList","props","classes","setTabNum","courseIndex","courseList","loading","onfetchCourseIndex","onfetchCourses","handleChange","_","newValue","maDanhMuc","courseRender","map","tab","tenDanhMuc","mapStateToProps","state","courses","mapDispatchToProps","dispatch","init","fetchCourseIndex","fetchCourses"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Grid, Box } from \"@material-ui/core\";\r\nimport { GmailTabs, GmailTabItem } from \"@mui-treasury/components/tabs/gmail\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport CourseCarousel from \"./CourseCarousel/CourseCarousel\";\r\n\r\nimport * as actions from \"../../store/actions\";\r\nimport SkeletonCard from \"../UI/SkeletonCard\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  gmailTabs: {\r\n    backgroundColor: \"inherit\",\r\n  },\r\n  wrapper: {\r\n    color: \"darkgray !important\",\r\n  },\r\n}));\r\n\r\nfunction TabPanel({ children, tabNum, index, ...other }) {\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={tabNum !== index}\r\n      id={`scrollable-force-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-force-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {tabNum === index && <Box p={3}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-force-tab-${index}`,\r\n    \"aria-controls\": `scrollable-force-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nfunction CourseList(props) {\r\n  const classes = useStyles();\r\n  const [tabNum, setTabNum] = useState(0);\r\n  const { courseIndex, courseList, loading } = props;\r\n  const { onfetchCourseIndex, onfetchCourses } = props;\r\n\r\n  useEffect(() => {\r\n    onfetchCourseIndex(true);\r\n  }, [onfetchCourseIndex]);\r\n\r\n  const handleChange = (_, newValue) => {\r\n    setTabNum(newValue);\r\n    onfetchCourses(courseIndex[newValue].maDanhMuc);\r\n  };\r\n\r\n  let courseRender = <SkeletonCard />;\r\n\r\n  if (!loading) {\r\n    courseRender = courseIndex.map((tab, index) => (\r\n      <TabPanel tabNum={tabNum} index={index} key={tab.maDanhMuc}>\r\n        <Grid container justify=\"center\" spacing={2}>\r\n          <CourseCarousel courseList={courseList} />\r\n        </Grid>\r\n      </TabPanel>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Grid container justify=\"center\">\r\n        <GmailTabs\r\n          value={tabNum}\r\n          onChange={handleChange}\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"on\"\r\n          aria-label=\"scrollable force tabs\"\r\n          className={classes.gmailTabs}\r\n        >\r\n          {courseIndex.map((tab, index) => (\r\n            <GmailTabItem\r\n              key={tab.maDanhMuc}\r\n              label={tab.tenDanhMuc}\r\n              classes={{ wrapper: classes.wrapper }}\r\n              {...a11yProps(index)}\r\n            />\r\n          ))}\r\n        </GmailTabs>\r\n        {courseRender}\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    courseIndex: state.courses.courseIndex,\r\n    courseList: state.courses.courseList,\r\n    loading: state.courses.loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onfetchCourseIndex: (init) => dispatch(actions.fetchCourseIndex(init)),\r\n    onfetchCourses: (courseIndex) =>\r\n      dispatch(actions.fetchCourses(courseIndex)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseList);\r\n"]},"metadata":{},"sourceType":"module"}