{"ast":null,"code":"var _jsxFileName = \"/home/sudo-byte/CourseHub-master/src/components/Users/UserList.js\";\nimport React, { useEffect, Fragment } from \"react\";\nimport * as actions from \"../../store/actions\";\nimport { connect } from \"react-redux\";\nimport { useSnackbar } from \"notistack\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { List, ListItem, ListItemSecondaryAction } from \"@material-ui/core\";\nimport { ListItemText, ListItemAvatar, Avatar } from \"@material-ui/core\";\nimport { Box, TextField, Button, Grid } from \"@material-ui/core\";\nimport { Badge, IconButton, Fab, Tooltip } from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Spinner from \"../UI/Spinner/Spinner\";\nimport DataLength from \"../DataDisplay/DataLength\";\nimport ChooseGroup from \"./InputCustom/ChooseGroup\";\nconst useStyles = makeStyles(theme => ({\n  userItems: {\n    width: \"100%\",\n    minWidth: 350,\n    backgroundColor: theme.palette.background.paper\n  },\n  userList: {\n    height: \"74.5vh\",\n    overflowY: \"auto\",\n    \"@media (max-width: 756px)\": {\n      height: \"25vh\"\n    }\n  },\n  childMargin: {\n    \"& > *\": {\n      margin: theme.spacing(0)\n    }\n  }\n}));\n\nfunction UserList(props) {\n  const classes = useStyles();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    group,\n    tabIndex,\n    success,\n    error,\n    userList,\n    loading\n  } = props;\n  const {\n    onFetchInfoClick,\n    onSearchUser,\n    onEditUserClick,\n    onAddUserClick,\n    onFetchUsers,\n    onDeleteUser,\n    onFetchCourseApprovalPending,\n    onFetchCourseApproved,\n    onFetchCourseNoneEnroll\n  } = props;\n  useEffect(() => {\n    onFetchUsers(group);\n  }, [onFetchUsers, group]);\n  useEffect(() => {\n    if (error) {\n      enqueueSnackbar(error, {\n        variant: \"error\",\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"right\"\n        }\n      });\n    } else if (success) {\n      enqueueSnackbar(success, {\n        variant: \"success\",\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"right\"\n        }\n      });\n    }\n  }, [error, success, enqueueSnackbar]);\n\n  const handleInfo = (selectedUser, avatarIndex) => {\n    onFetchInfoClick(selectedUser, tabIndex, avatarIndex);\n    onFetchCourseApprovalPending(selectedUser);\n    onFetchCourseApproved(selectedUser);\n    onFetchCourseNoneEnroll(selectedUser);\n  };\n\n  const handleDeleteConfirm = user => {\n    enqueueSnackbar(`Are you sure to delete ${user.taiKhoan}?`, {\n      variant: \"info\",\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"right\"\n      },\n      action: /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        variant: \"contained\",\n        onClick: () => onDeleteUser(user, group),\n        startIcon: /*#__PURE__*/React.createElement(DeleteIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 22\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, \"Delete\")\n    });\n  };\n\n  let userListRender = /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 24\n    }\n  });\n\n  if (userList && userList.length > 0) {\n    userListRender = userList.map((user, index) => {\n      const isGV = user.maLoaiNguoiDung === \"GV\";\n      const labelId = `checkbox-list-secondary-label-${index}`;\n      return /*#__PURE__*/React.createElement(ListItem, {\n        key: user.taiKhoan,\n        button: true,\n        onClick: () => handleInfo(user, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Badge, {\n        badgeContent: isGV ? user.maLoaiNguoiDung : null,\n        color: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        alt: `Avatar n°${index + 1}`,\n        src: index > 69 ? null : `https://i.pravatar.cc/150?img=${index + 1}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(ListItemText, {\n        id: labelId,\n        primary: user.taiKhoan,\n        secondary: user.email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Edit\",\n        placement: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        edge: \"end\",\n        \"aria-label\": \"edit\",\n        onClick: () => onEditUserClick(user, tabIndex),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(EditIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Delete\",\n        placement: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        edge: \"end\",\n        \"aria-label\": \"delete\",\n        onClick: () => handleDeleteConfirm(user),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(DeleteIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      })))));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    className: classes.userItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"space-between\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Fab, {\n    color: \"primary\",\n    size: \"small\",\n    \"aria-label\": \"add\",\n    onClick: () => onAddUserClick(),\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Add\",\n    placement: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }))), userList && userList.length ? /*#__PURE__*/React.createElement(DataLength, {\n    items: userList.length,\n    type: \"users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }) : null, /*#__PURE__*/React.createElement(ChooseGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    mb: 1,\n    mr: 1,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"filled-search\",\n    label: \"Search User...\",\n    type: \"search\",\n    fullWidth: true,\n    onChange: event => onSearchUser(event.target.value, group),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    className: classes.userList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, userListRender)));\n}\n\nconst mapStateToProps = state => {\n  return {\n    group: state.auth.group,\n    tabIndex: state.usersManager.tabIndex,\n    userList: state.usersManager.userList,\n    error: state.usersManager.error,\n    success: state.usersManager.success,\n    loading: state.usersManager.loading,\n    coursesPendingList: state.usersManager.coursesPendingList\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchInfoClick: (selectedUser, tabIndex, avatarIndex) => dispatch(actions.fetchInfoClick(selectedUser, tabIndex, avatarIndex)),\n    onSearchUser: (keyWord, group) => dispatch(actions.searchUser(keyWord, group)),\n    onEditUserClick: (selectedUser, tabIndex) => dispatch(actions.editUserClick(selectedUser, tabIndex)),\n    onAddUserClick: () => dispatch(actions.addUserClick()),\n    onFetchUsers: group => dispatch(actions.fetchUsers(group)),\n    onDeleteUser: (selectedUser, group) => dispatch(actions.deleteUser(selectedUser, group)),\n    onFetchCourseApprovalPending: selectedUser => dispatch(actions.fetchCourseApprovalPending(selectedUser)),\n    onFetchCourseApproved: selectedUser => dispatch(actions.fetchCourseApproved(selectedUser)),\n    onFetchCourseNoneEnroll: selectedUser => dispatch(actions.fetchCourseNoneEnroll(selectedUser)) // onMessageReset: () => dispatch(actions.clearMessage()),\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserList);","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/components/Users/UserList.js"],"names":["React","useEffect","Fragment","actions","connect","useSnackbar","makeStyles","List","ListItem","ListItemSecondaryAction","ListItemText","ListItemAvatar","Avatar","Box","TextField","Button","Grid","Badge","IconButton","Fab","Tooltip","DeleteIcon","AddIcon","EditIcon","Spinner","DataLength","ChooseGroup","useStyles","theme","userItems","width","minWidth","backgroundColor","palette","background","paper","userList","height","overflowY","childMargin","margin","spacing","UserList","props","classes","enqueueSnackbar","group","tabIndex","success","error","loading","onFetchInfoClick","onSearchUser","onEditUserClick","onAddUserClick","onFetchUsers","onDeleteUser","onFetchCourseApprovalPending","onFetchCourseApproved","onFetchCourseNoneEnroll","variant","anchorOrigin","vertical","horizontal","handleInfo","selectedUser","avatarIndex","handleDeleteConfirm","user","taiKhoan","action","userListRender","length","map","index","isGV","maLoaiNguoiDung","labelId","email","event","target","value","mapStateToProps","state","auth","usersManager","coursesPendingList","mapDispatchToProps","dispatch","fetchInfoClick","keyWord","searchUser","editUserClick","addUserClick","fetchUsers","deleteUser","fetchCourseApprovalPending","fetchCourseApproved","fetchCourseNoneEnroll"],"mappings":"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","sourcesContent":["import React, { useEffect, Fragment } from \"react\";\r\n\r\nimport * as actions from \"../../store/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { List, ListItem, ListItemSecondaryAction } from \"@material-ui/core\";\r\nimport { ListItemText, ListItemAvatar, Avatar } from \"@material-ui/core\";\r\nimport { Box, TextField, Button, Grid } from \"@material-ui/core\";\r\nimport { Badge, IconButton, Fab, Tooltip } from \"@material-ui/core\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\nimport DataLength from \"../DataDisplay/DataLength\";\r\nimport ChooseGroup from \"./InputCustom/ChooseGroup\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  userItems: {\r\n    width: \"100%\",\r\n    minWidth: 350,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  userList: {\r\n    height: \"74.5vh\",\r\n    overflowY: \"auto\",\r\n    \"@media (max-width: 756px)\": {\r\n      height: \"25vh\",\r\n    },\r\n  },\r\n  childMargin: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(0),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction UserList(props) {\r\n  const classes = useStyles();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const { group, tabIndex, success, error, userList, loading } = props;\r\n  const {\r\n    onFetchInfoClick,\r\n    onSearchUser,\r\n    onEditUserClick,\r\n    onAddUserClick,\r\n    onFetchUsers,\r\n    onDeleteUser,\r\n    onFetchCourseApprovalPending,\r\n    onFetchCourseApproved,\r\n    onFetchCourseNoneEnroll,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    onFetchUsers(group);\r\n  }, [onFetchUsers, group]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      enqueueSnackbar(error, {\r\n        variant: \"error\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    } else if (success) {\r\n      enqueueSnackbar(success, {\r\n        variant: \"success\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    }\r\n  }, [error, success, enqueueSnackbar]);\r\n\r\n  const handleInfo = (selectedUser, avatarIndex) => {\r\n    onFetchInfoClick(selectedUser, tabIndex, avatarIndex);\r\n    onFetchCourseApprovalPending(selectedUser);\r\n    onFetchCourseApproved(selectedUser);\r\n    onFetchCourseNoneEnroll(selectedUser);\r\n  };\r\n\r\n  const handleDeleteConfirm = (user) => {\r\n    enqueueSnackbar(`Are you sure to delete ${user.taiKhoan}?`, {\r\n      variant: \"info\",\r\n      anchorOrigin: {\r\n        vertical: \"bottom\",\r\n        horizontal: \"right\",\r\n      },\r\n      action: (\r\n        <Button\r\n          size=\"small\"\r\n          variant=\"contained\"\r\n          onClick={() => onDeleteUser(user, group)}\r\n          startIcon={<DeleteIcon />}\r\n        >\r\n          Delete\r\n        </Button>\r\n      ),\r\n    });\r\n  };\r\n\r\n  let userListRender = <Spinner />;\r\n\r\n  if (userList && userList.length > 0) {\r\n    userListRender = userList.map((user, index) => {\r\n      const isGV = user.maLoaiNguoiDung === \"GV\";\r\n      const labelId = `checkbox-list-secondary-label-${index}`;\r\n      return (\r\n        <ListItem\r\n          key={user.taiKhoan}\r\n          button\r\n          onClick={() => handleInfo(user, index)}\r\n        >\r\n          <ListItemAvatar>\r\n            <Badge\r\n              badgeContent={isGV ? user.maLoaiNguoiDung : null}\r\n              color=\"error\"\r\n            >\r\n              <Avatar\r\n                alt={`Avatar n°${index + 1}`}\r\n                src={\r\n                  index > 69\r\n                    ? null\r\n                    : `https://i.pravatar.cc/150?img=${index + 1}`\r\n                }\r\n              />\r\n            </Badge>\r\n          </ListItemAvatar>\r\n          <ListItemText\r\n            id={labelId}\r\n            primary={user.taiKhoan}\r\n            secondary={user.email}\r\n          />\r\n          <ListItemSecondaryAction>\r\n            <Tooltip title=\"Edit\" placement=\"left\">\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label=\"edit\"\r\n                onClick={() => onEditUserClick(user, tabIndex)}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n\r\n            <Tooltip title=\"Delete\" placement=\"right\">\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label=\"delete\"\r\n                onClick={() => handleDeleteConfirm(user)}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <List dense className={classes.userItems}>\r\n        <ListItem>\r\n          <Grid container justify=\"space-between\" alignItems=\"center\">\r\n            <Fab\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              aria-label=\"add\"\r\n              onClick={() => onAddUserClick()}\r\n              disabled={loading}\r\n            >\r\n              <Tooltip title=\"Add\" placement=\"right\">\r\n                <AddIcon />\r\n              </Tooltip>\r\n            </Fab>\r\n\r\n            {userList && userList.length ? (\r\n              <DataLength items={userList.length} type={\"users\"} />\r\n            ) : null}\r\n\r\n            <ChooseGroup />\r\n          </Grid>\r\n        </ListItem>\r\n\r\n        <ListItem>\r\n          <Box mb={1} mr={1} width={\"100%\"}>\r\n            <TextField\r\n              id=\"filled-search\"\r\n              label=\"Search User...\"\r\n              type=\"search\"\r\n              fullWidth\r\n              onChange={(event) => onSearchUser(event.target.value, group)}\r\n            />\r\n          </Box>\r\n        </ListItem>\r\n\r\n        <Box className={classes.userList}>{userListRender}</Box>\r\n      </List>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    group: state.auth.group,\r\n    tabIndex: state.usersManager.tabIndex,\r\n    userList: state.usersManager.userList,\r\n    error: state.usersManager.error,\r\n    success: state.usersManager.success,\r\n    loading: state.usersManager.loading,\r\n    coursesPendingList: state.usersManager.coursesPendingList,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFetchInfoClick: (selectedUser, tabIndex, avatarIndex) =>\r\n      dispatch(actions.fetchInfoClick(selectedUser, tabIndex, avatarIndex)),\r\n    onSearchUser: (keyWord, group) =>\r\n      dispatch(actions.searchUser(keyWord, group)),\r\n    onEditUserClick: (selectedUser, tabIndex) =>\r\n      dispatch(actions.editUserClick(selectedUser, tabIndex)),\r\n    onAddUserClick: () => dispatch(actions.addUserClick()),\r\n    onFetchUsers: (group) => dispatch(actions.fetchUsers(group)),\r\n    onDeleteUser: (selectedUser, group) =>\r\n      dispatch(actions.deleteUser(selectedUser, group)),\r\n    onFetchCourseApprovalPending: (selectedUser) =>\r\n      dispatch(actions.fetchCourseApprovalPending(selectedUser)),\r\n    onFetchCourseApproved: (selectedUser) =>\r\n      dispatch(actions.fetchCourseApproved(selectedUser)),\r\n    onFetchCourseNoneEnroll: (selectedUser) =>\r\n      dispatch(actions.fetchCourseNoneEnroll(selectedUser)),\r\n    // onMessageReset: () => dispatch(actions.clearMessage()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserList);\r\n"]},"metadata":{},"sourceType":"module"}