{"ast":null,"code":"import*as actionTypes from\"./actionTypes\";import axios from\"../../axios\";// ----------------- Course Index ------------------ //\nexport var fetchCourseIndexStart=function fetchCourseIndexStart(){return{type:actionTypes.FETCH_COURSE_INDEX_START};};export var fetchCourseIndexSuccess=function fetchCourseIndexSuccess(courseIndex){return{type:actionTypes.FETCH_COURSE_INDEX_SUCCESS,courseIndex:courseIndex};};export var fetchCourseIndexFail=function fetchCourseIndexFail(error){return{type:actionTypes.FETCH_COURSE_INDEX_FAIL,error:error};};export var fetchCourseIndex=function fetchCourseIndex(init){return function(dispatch){dispatch(fetchCourseIndexStart());axios.get(\"/QuanLyKhoaHoc/LayDanhMucKhoaHoc\").then(function(response){dispatch(fetchCourseIndexSuccess(response.data));if(init){dispatch(fetchCourses(response.data[0].maDanhMuc));}}).catch(function(error){dispatch(fetchCourseIndexFail(error));});};};// ----------------- Courses List ------------------ //\nexport var fetchCoursesStart=function fetchCoursesStart(){return{type:actionTypes.FETCH_COURSES_START};};export var fetchCoursesSuccess=function fetchCoursesSuccess(courseList){return{type:actionTypes.FETCH_COURSES_SUCCESS,courseList:courseList};};export var fetchCoursesFail=function fetchCoursesFail(error){return{type:actionTypes.FETCH_COURSES_FAIL,error:error};};export var fetchCourses=function fetchCourses(courseType,group,keyWord){return function(dispatch){dispatch(fetchCoursesStart());if(group===undefined){group=\"GP08\";}var url=\"/QuanLyKhoaHoc/LayKhoaHocTheoDanhMuc?maDanhMuc=\".concat(courseType,\"&MaNhom=\").concat(group);if(courseType===\"all\"){url=\"/QuanLyKhoaHoc/LayDanhSachKhoaHoc?MaNhom=\".concat(group);}if(keyWord){url=\"/QuanLyKhoaHoc/LayDanhSachKhoaHoc?tenKhoaHoc=\".concat(keyWord,\"&MaNhom=\").concat(group);}axios.get(url).then(function(response){// console.log(\"Courses List: \", response.data);\ndispatch(fetchCoursesSuccess(response.data));}).catch(function(error){dispatch(fetchCoursesFail(error));});};};// ----------------- Course Detail ------------------ //\nexport var fetchCourseDetailStart=function fetchCourseDetailStart(){return{type:actionTypes.FETCH_COURSE_DETAIL_START};};export var fetchCourseDetailSuccess=function fetchCourseDetailSuccess(courseDetail){return{type:actionTypes.FETCH_COURSE_DETAIL_SUCCESS,courseDetail:courseDetail};};export var fetchCourseDetailFail=function fetchCourseDetailFail(error){return{type:actionTypes.FETCH_COURSE_DETAIL_FAIL,error:error};};export var fetchCourseDetail=function fetchCourseDetail(courseId){return function(dispatch){dispatch(fetchCourseDetailStart());axios.get(\"/QuanLyKhoaHoc/LayThongTinKhoaHoc?maKhoaHoc=\".concat(courseId)).then(function(response){dispatch(fetchCourseDetailSuccess(response.data));}).catch(function(error){dispatch(fetchCourseDetailFail(error));});};};// ----------------- User Detail ------------------ //\nexport var fetchUserDetailStart=function fetchUserDetailStart(){return{type:actionTypes.FETCH_USER_DETAIL_FAIL};};export var fetchUserDetailSuccess=function fetchUserDetailSuccess(userDetail){return{type:actionTypes.FETCH_USER_DETAIL_SUCCESS,userDetail:userDetail};};export var fetchUserDetailFail=function fetchUserDetailFail(error){return{type:actionTypes.FETCH_USER_DETAIL_FAIL,error:error};};export var fetchUserDetail=function fetchUserDetail(){return function(dispatch){dispatch(fetchUserDetailStart());var user=JSON.parse(localStorage.getItem(\"user\"));var url=\"/QuanLyNguoiDung/ThongTinTaiKhoan\";var headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.accessToken)};var data={taiKhoan:user.taiKhoan};axios({method:\"post\",url:url,headers:headers,data:data}).then(function(response){// console.log(\"User Detail: \", response.data);\ndispatch(fetchUserDetailSuccess(response.data));}).catch(function(error){dispatch(fetchUserDetailFail(error));});};};","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/store/actions/courses.js"],"names":["actionTypes","axios","fetchCourseIndexStart","type","FETCH_COURSE_INDEX_START","fetchCourseIndexSuccess","courseIndex","FETCH_COURSE_INDEX_SUCCESS","fetchCourseIndexFail","error","FETCH_COURSE_INDEX_FAIL","fetchCourseIndex","init","dispatch","get","then","response","data","fetchCourses","maDanhMuc","catch","fetchCoursesStart","FETCH_COURSES_START","fetchCoursesSuccess","courseList","FETCH_COURSES_SUCCESS","fetchCoursesFail","FETCH_COURSES_FAIL","courseType","group","keyWord","undefined","url","fetchCourseDetailStart","FETCH_COURSE_DETAIL_START","fetchCourseDetailSuccess","courseDetail","FETCH_COURSE_DETAIL_SUCCESS","fetchCourseDetailFail","FETCH_COURSE_DETAIL_FAIL","fetchCourseDetail","courseId","fetchUserDetailStart","FETCH_USER_DETAIL_FAIL","fetchUserDetailSuccess","userDetail","FETCH_USER_DETAIL_SUCCESS","fetchUserDetailFail","fetchUserDetail","user","JSON","parse","localStorage","getItem","headers","Authorization","accessToken","taiKhoan","method"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"../../axios\";\r\n\r\n// ----------------- Course Index ------------------ //\r\nexport const fetchCourseIndexStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_INDEX_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseIndexSuccess = (courseIndex) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_INDEX_SUCCESS,\r\n    courseIndex: courseIndex,\r\n  };\r\n};\r\n\r\nexport const fetchCourseIndexFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_INDEX_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseIndex = (init) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseIndexStart());\r\n    axios\r\n      .get(\"/QuanLyKhoaHoc/LayDanhMucKhoaHoc\")\r\n      .then((response) => {\r\n        dispatch(fetchCourseIndexSuccess(response.data));\r\n        if (init) {\r\n          dispatch(fetchCourses(response.data[0].maDanhMuc));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseIndexFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n// ----------------- Courses List ------------------ //\r\nexport const fetchCoursesStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSES_START,\r\n  };\r\n};\r\n\r\nexport const fetchCoursesSuccess = (courseList) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSES_SUCCESS,\r\n    courseList: courseList,\r\n  };\r\n};\r\n\r\nexport const fetchCoursesFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSES_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourses = (courseType, group, keyWord) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCoursesStart());\r\n    if (group === undefined) {\r\n      group = \"GP08\";\r\n    }\r\n    let url = `/QuanLyKhoaHoc/LayKhoaHocTheoDanhMuc?maDanhMuc=${courseType}&MaNhom=${group}`;\r\n    if (courseType === \"all\") {\r\n      url = `/QuanLyKhoaHoc/LayDanhSachKhoaHoc?MaNhom=${group}`;\r\n    }\r\n    if (keyWord) {\r\n      url = `/QuanLyKhoaHoc/LayDanhSachKhoaHoc?tenKhoaHoc=${keyWord}&MaNhom=${group}`;\r\n    }\r\n\r\n    axios\r\n      .get(url)\r\n      .then((response) => {\r\n        // console.log(\"Courses List: \", response.data);\r\n        dispatch(fetchCoursesSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCoursesFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n// ----------------- Course Detail ------------------ //\r\nexport const fetchCourseDetailStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_DETAIL_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseDetailSuccess = (courseDetail) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_DETAIL_SUCCESS,\r\n    courseDetail: courseDetail,\r\n  };\r\n};\r\n\r\nexport const fetchCourseDetailFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_DETAIL_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseDetail = (courseId) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseDetailStart());\r\n    axios\r\n      .get(`/QuanLyKhoaHoc/LayThongTinKhoaHoc?maKhoaHoc=${courseId}`)\r\n      .then((response) => {\r\n        dispatch(fetchCourseDetailSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseDetailFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n// ----------------- User Detail ------------------ //\r\nexport const fetchUserDetailStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DETAIL_FAIL,\r\n  };\r\n};\r\n\r\nexport const fetchUserDetailSuccess = (userDetail) => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DETAIL_SUCCESS,\r\n    userDetail: userDetail,\r\n  };\r\n};\r\n\r\nexport const fetchUserDetailFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DETAIL_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchUserDetail = () => {\r\n  return (dispatch) => {\r\n    dispatch(fetchUserDetailStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyNguoiDung/ThongTinTaiKhoan\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: user.taiKhoan,\r\n    };\r\n\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        // console.log(\"User Detail: \", response.data);\r\n        dispatch(fetchUserDetailSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchUserDetailFail(error));\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}