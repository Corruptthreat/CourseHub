{"ast":null,"code":"var _jsxFileName = \"/home/sudo-byte/CourseHub-master/src/containers/Courses/MyCourses.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport { Box, Grid, List, ListItemAvatar, Avatar, ListItemText, Tooltip, ListItem, ListItemSecondaryAction, Card, Typography } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport BlockIcon from \"@material-ui/icons/Block\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport DataLength from \"../../components/DataDisplay/DataLength\";\nimport cx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSoftRiseShadowStyles } from \"@mui-treasury/styles/shadow/softRise\";\nconst useStyles = makeStyles(() => ({\n  root: {\n    maxWidth: 700,\n    margin: \"auto\"\n  },\n  content: {\n    padding: 24\n  },\n  avatar: {\n    width: 50,\n    height: 50,\n    border: \"2px solid #fff\",\n    margin: \"-48px 32px 0 auto\",\n    \"& > img\": {\n      margin: 0\n    }\n  },\n  background: {\n    background: \"linear-gradient(120deg, #2980b9, #8e44ad)\"\n  },\n  link: {\n    textDecoration: \"none\",\n    textTransform: \"none\",\n    color: \"inherit\"\n  },\n  title: {\n    display: \"inline\",\n    fontWeight: 700,\n    background: \"linear-gradient(120deg, #2980b9, #8e44ad)\",\n    \"-webkit-background-clip\": \"text\",\n    color: \"transparent\",\n    transition: \"0.5s\",\n    \"&:hover\": {\n      background: \"linear-gradient(right, #2980b9, #8e44ad)\",\n      color: \"transparent\",\n      \"-webkit-background-clip\": \"text\"\n    }\n  }\n}));\n\nconst Courses = props => {\n  const {\n    history\n  } = props;\n  const {\n    userDetail,\n    success,\n    error\n  } = props;\n  const {\n    onFetchUserDetail,\n    onEnroll,\n    onUserClearMessage\n  } = props;\n  const [isMe, setIsMe] = useState(false);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const cardStyles = useStyles();\n  const shadowStyles = useSoftRiseShadowStyles();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  useEffect(() => {\n    if (error) {\n      enqueueSnackbar(error, {\n        variant: \"error\",\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"right\"\n        }\n      });\n    } else if (success) {\n      enqueueSnackbar(success, {\n        variant: \"success\",\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"right\"\n        }\n      });\n    }\n\n    onUserClearMessage();\n    onFetchUserDetail();\n  }, [error, success, enqueueSnackbar, onUserClearMessage, onFetchUserDetail]);\n  useEffect(() => {\n    if (history.location.pathname === \"/my-courses\") {\n      setIsMe(true);\n    } else {\n      setIsMe(false);\n    }\n  }, [history.location.pathname, user]);\n  useEffect(() => {\n    if (isMe) {\n      onFetchUserDetail();\n    }\n  }, [onFetchUserDetail, isMe]);\n  let courseListRender = /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 26\n    }\n  });\n\n  if (isMe && userDetail && userDetail.chiTietKhoaHocGhiDanh) {\n    courseListRender = /*#__PURE__*/React.createElement(Box, {\n      my: 5,\n      mx: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      dense: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, userDetail.chiTietKhoaHocGhiDanh.map((course, index) => /*#__PURE__*/React.createElement(ListItem, {\n      key: `${course.maKhoaHoc}${index}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FolderIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: `/courses/${course.maKhoaHoc}`,\n      className: cardStyles.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: course.tenKhoaHoc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"end\",\n      onClick: () => onEnroll(course.maKhoaHoc, isMe),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Leave This Course\",\n      placement: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(BlockIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }))))))));\n  }\n\n  return /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    minHeight: \"92.2vh\",\n    className: cardStyles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: cx(cardStyles.root, shadowStyles.root),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    mt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    className: cardStyles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, \"My Courses\")), isMe && userDetail && userDetail.chiTietKhoaHocGhiDanh ? /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    mt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DataLength, {\n    items: userDetail.chiTietKhoaHocGhiDanh.length,\n    type: \"courses\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  })) : null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, courseListRender)));\n};\n\nconst mapStateToProps = state => {\n  return {\n    userDetail: state.courses.userDetail,\n    error: state.user.error,\n    success: state.user.success\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchUserDetail: () => dispatch(actions.fetchUserDetail()),\n    onEnroll: (courseId, isMe) => dispatch(actions.EnrollCourse(courseId, isMe)),\n    onUserClearMessage: () => dispatch(actions.userClearMessage())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Courses));","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/containers/Courses/MyCourses.js"],"names":["React","useEffect","useState","withRouter","Link","useSnackbar","Box","Grid","List","ListItemAvatar","Avatar","ListItemText","Tooltip","ListItem","ListItemSecondaryAction","Card","Typography","connect","actions","IconButton","FolderIcon","BlockIcon","Spinner","DataLength","cx","makeStyles","useSoftRiseShadowStyles","useStyles","root","maxWidth","margin","content","padding","avatar","width","height","border","background","link","textDecoration","textTransform","color","title","display","fontWeight","transition","Courses","props","history","userDetail","success","error","onFetchUserDetail","onEnroll","onUserClearMessage","isMe","setIsMe","user","JSON","parse","localStorage","getItem","cardStyles","shadowStyles","enqueueSnackbar","variant","anchorOrigin","vertical","horizontal","location","pathname","courseListRender","chiTietKhoaHocGhiDanh","map","course","index","maKhoaHoc","tenKhoaHoc","length","mapStateToProps","state","courses","mapDispatchToProps","dispatch","fetchUserDetail","courseId","EnrollCourse","userClearMessage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  List,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  ListItemText,\r\n  Tooltip,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n  Card,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../store/actions\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FolderIcon from \"@material-ui/icons/Folder\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\n\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport DataLength from \"../../components/DataDisplay/DataLength\";\r\n\r\nimport cx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useSoftRiseShadowStyles } from \"@mui-treasury/styles/shadow/softRise\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    maxWidth: 700,\r\n    margin: \"auto\",\r\n  },\r\n  content: {\r\n    padding: 24,\r\n  },\r\n  avatar: {\r\n    width: 50,\r\n    height: 50,\r\n    border: \"2px solid #fff\",\r\n    margin: \"-48px 32px 0 auto\",\r\n    \"& > img\": {\r\n      margin: 0,\r\n    },\r\n  },\r\n  background: {\r\n    background: \"linear-gradient(120deg, #2980b9, #8e44ad)\",\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n    textTransform: \"none\",\r\n    color: \"inherit\",\r\n  },\r\n  title: {\r\n    display: \"inline\",\r\n    fontWeight: 700,\r\n    background: \"linear-gradient(120deg, #2980b9, #8e44ad)\",\r\n    \"-webkit-background-clip\": \"text\",\r\n    color: \"transparent\",\r\n    transition: \"0.5s\",\r\n\r\n    \"&:hover\": {\r\n      background: \"linear-gradient(right, #2980b9, #8e44ad)\",\r\n      color: \"transparent\",\r\n      \"-webkit-background-clip\": \"text\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Courses = (props) => {\r\n  const { history } = props;\r\n  const { userDetail, success, error } = props;\r\n  const { onFetchUserDetail, onEnroll, onUserClearMessage } = props;\r\n  const [isMe, setIsMe] = useState(false);\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  const cardStyles = useStyles();\r\n  const shadowStyles = useSoftRiseShadowStyles();\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      enqueueSnackbar(error, {\r\n        variant: \"error\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    } else if (success) {\r\n      enqueueSnackbar(success, {\r\n        variant: \"success\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    }\r\n    onUserClearMessage();\r\n    onFetchUserDetail();\r\n  }, [error, success, enqueueSnackbar, onUserClearMessage, onFetchUserDetail]);\r\n\r\n  useEffect(() => {\r\n    if (history.location.pathname === \"/my-courses\") {\r\n      setIsMe(true);\r\n    } else {\r\n      setIsMe(false);\r\n    }\r\n  }, [history.location.pathname, user]);\r\n\r\n  useEffect(() => {\r\n    if (isMe) {\r\n      onFetchUserDetail();\r\n    }\r\n  }, [onFetchUserDetail, isMe]);\r\n\r\n  let courseListRender = <Spinner />;\r\n\r\n  if (isMe && userDetail && userDetail.chiTietKhoaHocGhiDanh) {\r\n    courseListRender = (\r\n      <Box my={5} mx={2}>\r\n        <List dense>\r\n          {userDetail.chiTietKhoaHocGhiDanh.map((course, index) => (\r\n            <ListItem key={`${course.maKhoaHoc}${index}`}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <FolderIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <Link\r\n                to={`/courses/${course.maKhoaHoc}`}\r\n                className={cardStyles.link}\r\n              >\r\n                <ListItemText primary={course.tenKhoaHoc} />\r\n              </Link>\r\n              <ListItemSecondaryAction>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  onClick={() => onEnroll(course.maKhoaHoc, isMe)}\r\n                >\r\n                  <Tooltip title=\"Leave This Course\" placement=\"right\">\r\n                    <BlockIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      minHeight={\"92.2vh\"}\r\n      className={cardStyles.background}\r\n    >\r\n      <Card className={cx(cardStyles.root, shadowStyles.root)}>\r\n        <Box display=\"flex\" justifyContent=\"center\" mt={3}>\r\n          <Typography variant=\"h3\" className={cardStyles.title}>\r\n            My Courses\r\n          </Typography>\r\n        </Box>\r\n\r\n        {isMe && userDetail && userDetail.chiTietKhoaHocGhiDanh ? (\r\n          <Box display=\"flex\" justifyContent=\"center\" mt={3}>\r\n            <DataLength\r\n              items={userDetail.chiTietKhoaHocGhiDanh.length}\r\n              type={\"courses\"}\r\n            />\r\n          </Box>\r\n        ) : null}\r\n\r\n        <Grid container spacing={2} justify=\"center\">\r\n          {courseListRender}\r\n        </Grid>\r\n      </Card>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userDetail: state.courses.userDetail,\r\n    error: state.user.error,\r\n    success: state.user.success,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFetchUserDetail: () => dispatch(actions.fetchUserDetail()),\r\n    onEnroll: (courseId, isMe) =>\r\n      dispatch(actions.EnrollCourse(courseId, isMe)),\r\n    onUserClearMessage: () => dispatch(actions.userClearMessage()),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(Courses));\r\n"]},"metadata":{},"sourceType":"module"}