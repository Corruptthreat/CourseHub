{"ast":null,"code":"import _slicedToArray from\"/home/sudo-byte/CourseHub-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,Fragment}from\"react\";import{connect}from\"react-redux\";import*as actions from\"../../store/actions\";import{useSnackbar}from\"notistack\";import{Typography,Tooltip}from\"@material-ui/core\";import cx from\"clsx\";import{makeStyles}from\"@material-ui/core/styles\";import Box from\"@material-ui/core/Box\";import Card from\"@material-ui/core/Card\";import Avatar from\"@material-ui/core/Avatar\";import{useFadedShadowStyles}from\"@mui-treasury/styles/shadow/faded\";import{useGutterBorderedGridStyles}from\"@mui-treasury/styles/grid/gutterBordered\";import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import ListItemAvatar from\"@material-ui/core/ListItemAvatar\";import ListItemSecondaryAction from\"@material-ui/core/ListItemSecondaryAction\";import ListItemText from\"@material-ui/core/ListItemText\";import IconButton from\"@material-ui/core/IconButton\";import BlockIcon from\"@material-ui/icons/Block\";import ThumbUpAltIcon from\"@material-ui/icons/ThumbUpAlt\";import ExpansionPanel from\"@material-ui/core/ExpansionPanel\";import ExpansionPanelDetails from\"@material-ui/core/ExpansionPanelDetails\";import ExpansionPanelSummary from\"@material-ui/core/ExpansionPanelSummary\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import AddCourses from\"./AddCourses\";import Spinner from\"../UI/Spinner/Spinner\";var useStyles=makeStyles(function(_ref){var palette=_ref.palette,typography=_ref.typography,breakpoints=_ref.breakpoints;return{card:{borderRadius:12,minWidth:256,textAlign:\"center\"},avatar:{width:60,height:60,margin:\"auto\"},heading:{fontSize:18,fontWeight:\"bold\",letterSpacing:\"0.5px\",marginTop:8,marginBottom:0},subheader:{fontSize:14,color:palette.grey[500],marginBottom:\"0.875em\"},statLabel:{fontSize:12,color:palette.grey[500],fontWeight:500,fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',margin:0},statValue:{fontSize:20,fontWeight:\"bold\",marginBottom:4,letterSpacing:\"1px\"},expanseHeading:{fontSize:typography.pxToRem(15),flexBasis:\"33.33%\",flexShrink:0},secondaryHeading:{fontSize:typography.pxToRem(15),color:palette.text.secondary}};});var CourseDetails=function CourseDetails(props){var styles=useStyles();var shadowStyles=useFadedShadowStyles();var borderedGridStyles=useGutterBorderedGridStyles({borderColor:\"rgba(0, 0, 0, 0.08)\",height:\"50%\"});var error=props.error,success=props.success,loading=props.loading,selectedCourse=props.selectedCourse,userPendingList=props.userPendingList,userApprovedList=props.userApprovedList,userRefuseList=props.userRefuseList;var onApproveUserPending=props.onApproveUserPending,onDisapproveUser=props.onDisapproveUser;var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var handleChange=function handleChange(panel){return function(event,isExpanded){setExpanded(isExpanded?panel:false);};};useEffect(function(){if(error){enqueueSnackbar(error,{variant:\"error\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"}});}else if(success){enqueueSnackbar(success,{variant:\"success\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"}});}},[error,success,enqueueSnackbar]);var usersPendingRender;if(userPendingList&&userPendingList.length>0){usersPendingRender=/*#__PURE__*/React.createElement(Box,{p:2,width:\"100%\",className:borderedGridStyles.item},/*#__PURE__*/React.createElement(List,{dense:true},userPendingList.map(function(user,index){return/*#__PURE__*/React.createElement(ListItem,{key:user.biDanh,button:true},/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,{alt:\"Avatar n\\xB0\".concat(index+1),src:\"https://i.pravatar.cc/150?img=\".concat(index+1)})),/*#__PURE__*/React.createElement(ListItemText,{id:user.biDanh,primary:user.taiKhoan// style={{ paddingRight: 90 }}\n}),/*#__PURE__*/React.createElement(ListItemSecondaryAction,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"allow\",onClick:function onClick(){return onApproveUserPending(selectedCourse,user);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Approve\",placement:\"left\"},/*#__PURE__*/React.createElement(ThumbUpAltIcon,null))),/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"disApprovel\",onClick:function onClick(){return onDisapproveUser(selectedCourse,user);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Ban\",placement:\"right\"},/*#__PURE__*/React.createElement(BlockIcon,null)))));})));}var usersApprovedRender;if(userApprovedList&&userApprovedList.length>0){usersApprovedRender=/*#__PURE__*/React.createElement(Box,{p:2,width:\"100%\",className:borderedGridStyles.item},/*#__PURE__*/React.createElement(List,{dense:true},userApprovedList.map(function(user,index){return/*#__PURE__*/React.createElement(ListItem,{key:user.biDanh,button:true},/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,{alt:\"Avatar n\\xB0\".concat(index+1),src:\"https://i.pravatar.cc/150?img=\".concat(index+1)})),/*#__PURE__*/React.createElement(ListItemText,{id:user.biDanh,primary:user.taiKhoan}),/*#__PURE__*/React.createElement(ListItemSecondaryAction,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"disApprovel\",onClick:function onClick(){return onDisapproveUser(selectedCourse,user);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Ban\",placement:\"right\"},/*#__PURE__*/React.createElement(BlockIcon,null)))));})));}var usersRefuseListRender;if(userRefuseList&&userRefuseList.length>0){usersRefuseListRender=/*#__PURE__*/React.createElement(Box,{p:2,width:\"100%\",className:borderedGridStyles.item},/*#__PURE__*/React.createElement(List,{dense:true},userRefuseList.map(function(user,index){return/*#__PURE__*/React.createElement(ListItem,{key:user.biDanh,button:true},/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,{alt:\"Avatar n\\xB0\".concat(index+1),src:\"https://i.pravatar.cc/150?img=\".concat(index+1)})),/*#__PURE__*/React.createElement(ListItemText,{id:user.biDanh,primary:user.taiKhoan}),/*#__PURE__*/React.createElement(ListItemSecondaryAction,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"allow\",onClick:function onClick(){return onApproveUserPending(selectedCourse,user);}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Approve\",placement:\"left\"},/*#__PURE__*/React.createElement(ThumbUpAltIcon,null)))));})));}return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Box,{mb:1},/*#__PURE__*/React.createElement(AddCourses,{preview:true})),/*#__PURE__*/React.createElement(Card,{className:cx(styles.card,shadowStyles.root)},loading?/*#__PURE__*/React.createElement(Spinner,null):null,/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(ExpansionPanel,{expanded:expanded===\"panel1\",onChange:handleChange(\"panel1\"),disabled:loading},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1bh-content\",id:\"panel1bh-header\"},/*#__PURE__*/React.createElement(Typography,{className:styles.expanseHeading},\"Pending Users\"),/*#__PURE__*/React.createElement(Typography,{className:styles.secondaryHeading},\"These users are waiting to access\")),/*#__PURE__*/React.createElement(ExpansionPanelDetails,null,usersPendingRender)),/*#__PURE__*/React.createElement(ExpansionPanel,{expanded:expanded===\"panel2\",onChange:handleChange(\"panel2\"),disabled:loading},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel2bh-content\",id:\"panel2bh-header\"},/*#__PURE__*/React.createElement(Typography,{className:styles.expanseHeading},\"Approved Users\"),/*#__PURE__*/React.createElement(Typography,{className:styles.secondaryHeading},\"These users had right to access this course\")),/*#__PURE__*/React.createElement(ExpansionPanelDetails,null,usersApprovedRender)),/*#__PURE__*/React.createElement(ExpansionPanel,{expanded:expanded===\"panel3\",onChange:handleChange(\"panel3\"),disabled:loading},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel3bh-content\",id:\"panel3bh-header\"},/*#__PURE__*/React.createElement(Typography,{className:styles.expanseHeading},\"Refuse users\"),/*#__PURE__*/React.createElement(Typography,{className:styles.secondaryHeading},\"Enroll this course directly for users\")),/*#__PURE__*/React.createElement(ExpansionPanelDetails,null,usersRefuseListRender)))));};var mapStateToProps=function mapStateToProps(state){return{error:state.coursesManager.error,success:state.coursesManager.success,loading:state.coursesManager.loading,selectedCourse:state.coursesManager.selectedCourse,userPendingList:state.coursesManager.userPendingList,userApprovedList:state.coursesManager.userApprovedList,userRefuseList:state.coursesManager.userRefuseList};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onApproveUserPending:function onApproveUserPending(selectedCourse,user){return dispatch(actions.approveUserPending(selectedCourse,user));},onDisapproveUser:function onDisapproveUser(selectedCourse,user){return dispatch(actions.disapproveUser(selectedCourse,user));}};};export default connect(mapStateToProps,mapDispatchToProps)(CourseDetails);","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/components/Courses/CourseDetails.js"],"names":["React","useEffect","useState","Fragment","connect","actions","useSnackbar","Typography","Tooltip","cx","makeStyles","Box","Card","Avatar","useFadedShadowStyles","useGutterBorderedGridStyles","List","ListItem","ListItemAvatar","ListItemSecondaryAction","ListItemText","IconButton","BlockIcon","ThumbUpAltIcon","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","ExpandMoreIcon","AddCourses","Spinner","useStyles","palette","typography","breakpoints","card","borderRadius","minWidth","textAlign","avatar","width","height","margin","heading","fontSize","fontWeight","letterSpacing","marginTop","marginBottom","subheader","color","grey","statLabel","fontFamily","statValue","expanseHeading","pxToRem","flexBasis","flexShrink","secondaryHeading","text","secondary","CourseDetails","props","styles","shadowStyles","borderedGridStyles","borderColor","error","success","loading","selectedCourse","userPendingList","userApprovedList","userRefuseList","onApproveUserPending","onDisapproveUser","enqueueSnackbar","expanded","setExpanded","handleChange","panel","event","isExpanded","variant","anchorOrigin","vertical","horizontal","usersPendingRender","length","item","map","user","index","biDanh","taiKhoan","usersApprovedRender","usersRefuseListRender","root","mapStateToProps","state","coursesManager","mapDispatchToProps","dispatch","approveUserPending","disapproveUser"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../store/actions\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Typography, Tooltip } from \"@material-ui/core\";\r\n\r\nimport cx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { useFadedShadowStyles } from \"@mui-treasury/styles/shadow/faded\";\r\nimport { useGutterBorderedGridStyles } from \"@mui-treasury/styles/grid/gutterBordered\";\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\n\r\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\r\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\r\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport AddCourses from \"./AddCourses\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\n\r\nconst useStyles = makeStyles(({ palette, typography, breakpoints }) => ({\r\n  card: {\r\n    borderRadius: 12,\r\n    minWidth: 256,\r\n    textAlign: \"center\",\r\n  },\r\n  avatar: {\r\n    width: 60,\r\n    height: 60,\r\n    margin: \"auto\",\r\n  },\r\n  heading: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    letterSpacing: \"0.5px\",\r\n    marginTop: 8,\r\n    marginBottom: 0,\r\n  },\r\n  subheader: {\r\n    fontSize: 14,\r\n    color: palette.grey[500],\r\n    marginBottom: \"0.875em\",\r\n  },\r\n  statLabel: {\r\n    fontSize: 12,\r\n    color: palette.grey[500],\r\n    fontWeight: 500,\r\n    fontFamily:\r\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\r\n    margin: 0,\r\n  },\r\n  statValue: {\r\n    fontSize: 20,\r\n    fontWeight: \"bold\",\r\n    marginBottom: 4,\r\n    letterSpacing: \"1px\",\r\n  },\r\n  expanseHeading: {\r\n    fontSize: typography.pxToRem(15),\r\n    flexBasis: \"33.33%\",\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: typography.pxToRem(15),\r\n    color: palette.text.secondary,\r\n  },\r\n}));\r\n\r\nconst CourseDetails = (props) => {\r\n  const styles = useStyles();\r\n  const shadowStyles = useFadedShadowStyles();\r\n  const borderedGridStyles = useGutterBorderedGridStyles({\r\n    borderColor: \"rgba(0, 0, 0, 0.08)\",\r\n    height: \"50%\",\r\n  });\r\n\r\n  const {\r\n    error,\r\n    success,\r\n    loading,\r\n    selectedCourse,\r\n    userPendingList,\r\n    userApprovedList,\r\n    userRefuseList,\r\n  } = props;\r\n  const { onApproveUserPending, onDisapproveUser } = props;\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleChange = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      enqueueSnackbar(error, {\r\n        variant: \"error\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    } else if (success) {\r\n      enqueueSnackbar(success, {\r\n        variant: \"success\",\r\n        anchorOrigin: {\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        },\r\n      });\r\n    }\r\n  }, [error, success, enqueueSnackbar]);\r\n\r\n  let usersPendingRender;\r\n  if (userPendingList && userPendingList.length > 0) {\r\n    usersPendingRender = (\r\n      <Box p={2} width={\"100%\"} className={borderedGridStyles.item}>\r\n        <List dense>\r\n          {userPendingList.map((user, index) => (\r\n            <ListItem key={user.biDanh} button>\r\n              <ListItemAvatar>\r\n                <Avatar\r\n                  alt={`Avatar n°${index + 1}`}\r\n                  src={`https://i.pravatar.cc/150?img=${index + 1}`}\r\n                />\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                id={user.biDanh}\r\n                primary={user.taiKhoan}\r\n                // style={{ paddingRight: 90 }}\r\n              />\r\n              <ListItemSecondaryAction>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"allow\"\r\n                  onClick={() => onApproveUserPending(selectedCourse, user)}\r\n                >\r\n                  <Tooltip title=\"Approve\" placement=\"left\">\r\n                    <ThumbUpAltIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"disApprovel\"\r\n                  onClick={() => onDisapproveUser(selectedCourse, user)}\r\n                >\r\n                  <Tooltip title=\"Ban\" placement=\"right\">\r\n                    <BlockIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  let usersApprovedRender;\r\n  if (userApprovedList && userApprovedList.length > 0) {\r\n    usersApprovedRender = (\r\n      <Box p={2} width={\"100%\"} className={borderedGridStyles.item}>\r\n        <List dense>\r\n          {userApprovedList.map((user, index) => (\r\n            <ListItem key={user.biDanh} button>\r\n              <ListItemAvatar>\r\n                <Avatar\r\n                  alt={`Avatar n°${index + 1}`}\r\n                  src={`https://i.pravatar.cc/150?img=${index + 1}`}\r\n                />\r\n              </ListItemAvatar>\r\n              <ListItemText id={user.biDanh} primary={user.taiKhoan} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"disApprovel\"\r\n                  onClick={() => onDisapproveUser(selectedCourse, user)}\r\n                >\r\n                  <Tooltip title=\"Ban\" placement=\"right\">\r\n                    <BlockIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  let usersRefuseListRender;\r\n  if (userRefuseList && userRefuseList.length > 0) {\r\n    usersRefuseListRender = (\r\n      <Box p={2} width={\"100%\"} className={borderedGridStyles.item}>\r\n        <List dense>\r\n          {userRefuseList.map((user, index) => (\r\n            <ListItem key={user.biDanh} button>\r\n              <ListItemAvatar>\r\n                <Avatar\r\n                  alt={`Avatar n°${index + 1}`}\r\n                  src={`https://i.pravatar.cc/150?img=${index + 1}`}\r\n                />\r\n              </ListItemAvatar>\r\n              <ListItemText id={user.biDanh} primary={user.taiKhoan} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"allow\"\r\n                  onClick={() => onApproveUserPending(selectedCourse, user)}\r\n                >\r\n                  <Tooltip title=\"Approve\" placement=\"left\">\r\n                    <ThumbUpAltIcon />\r\n                  </Tooltip>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box mb={1}>\r\n        <AddCourses preview={true} />\r\n      </Box>\r\n\r\n      <Card className={cx(styles.card, shadowStyles.root)}>\r\n        {loading ? <Spinner /> : null}\r\n        <Box>\r\n          <ExpansionPanel\r\n            expanded={expanded === \"panel1\"}\r\n            onChange={handleChange(\"panel1\")}\r\n            disabled={loading}\r\n          >\r\n            <ExpansionPanelSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel1bh-content\"\r\n              id=\"panel1bh-header\"\r\n            >\r\n              <Typography className={styles.expanseHeading}>\r\n                Pending Users\r\n              </Typography>\r\n              <Typography className={styles.secondaryHeading}>\r\n                These users are waiting to access\r\n              </Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>{usersPendingRender}</ExpansionPanelDetails>\r\n          </ExpansionPanel>\r\n\r\n          <ExpansionPanel\r\n            expanded={expanded === \"panel2\"}\r\n            onChange={handleChange(\"panel2\")}\r\n            disabled={loading}\r\n          >\r\n            <ExpansionPanelSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel2bh-content\"\r\n              id=\"panel2bh-header\"\r\n            >\r\n              <Typography className={styles.expanseHeading}>\r\n                Approved Users\r\n              </Typography>\r\n              <Typography className={styles.secondaryHeading}>\r\n                These users had right to access this course\r\n              </Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>{usersApprovedRender}</ExpansionPanelDetails>\r\n          </ExpansionPanel>\r\n\r\n          <ExpansionPanel\r\n            expanded={expanded === \"panel3\"}\r\n            onChange={handleChange(\"panel3\")}\r\n            disabled={loading}\r\n          >\r\n            <ExpansionPanelSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel3bh-content\"\r\n              id=\"panel3bh-header\"\r\n            >\r\n              <Typography className={styles.expanseHeading}>\r\n                Refuse users\r\n              </Typography>\r\n              <Typography className={styles.secondaryHeading}>\r\n                Enroll this course directly for users\r\n              </Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>\r\n              {usersRefuseListRender}\r\n            </ExpansionPanelDetails>\r\n          </ExpansionPanel>\r\n        </Box>\r\n      </Card>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    error: state.coursesManager.error,\r\n    success: state.coursesManager.success,\r\n    loading: state.coursesManager.loading,\r\n    selectedCourse: state.coursesManager.selectedCourse,\r\n    userPendingList: state.coursesManager.userPendingList,\r\n    userApprovedList: state.coursesManager.userApprovedList,\r\n    userRefuseList: state.coursesManager.userRefuseList,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onApproveUserPending: (selectedCourse, user) =>\r\n      dispatch(actions.approveUserPending(selectedCourse, user)),\r\n    onDisapproveUser: (selectedCourse, user) =>\r\n      dispatch(actions.disapproveUser(selectedCourse, user)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseDetails);\r\n"]},"metadata":{},"sourceType":"module"}