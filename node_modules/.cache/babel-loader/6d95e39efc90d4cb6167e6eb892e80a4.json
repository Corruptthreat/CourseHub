{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport axios from \"../../axios\"; // ----------------- Course Index ------------------ //\n\nexport const fetchCourseIndexStart = () => {\n  return {\n    type: actionTypes.FETCH_COURSE_INDEX_START\n  };\n};\nexport const fetchCourseIndexSuccess = courseIndex => {\n  return {\n    type: actionTypes.FETCH_COURSE_INDEX_SUCCESS,\n    courseIndex: courseIndex\n  };\n};\nexport const fetchCourseIndexFail = error => {\n  return {\n    type: actionTypes.FETCH_COURSE_INDEX_FAIL,\n    error: error\n  };\n};\nexport const fetchCourseIndex = init => {\n  return dispatch => {\n    dispatch(fetchCourseIndexStart());\n    axios.get(\"/QuanLyKhoaHoc/LayDanhMucKhoaHoc\").then(response => {\n      dispatch(fetchCourseIndexSuccess(response.data));\n\n      if (init) {\n        dispatch(fetchCourses(response.data[0].maDanhMuc));\n      }\n    }).catch(error => {\n      dispatch(fetchCourseIndexFail(error));\n    });\n  };\n}; // ----------------- Courses List ------------------ //\n\nexport const fetchCoursesStart = () => {\n  return {\n    type: actionTypes.FETCH_COURSES_START\n  };\n};\nexport const fetchCoursesSuccess = courseList => {\n  return {\n    type: actionTypes.FETCH_COURSES_SUCCESS,\n    courseList: courseList\n  };\n};\nexport const fetchCoursesFail = error => {\n  return {\n    type: actionTypes.FETCH_COURSES_FAIL,\n    error: error\n  };\n};\nexport const fetchCourses = (courseType, group, keyWord) => {\n  return dispatch => {\n    dispatch(fetchCoursesStart());\n\n    if (group === undefined) {\n      group = \"GP08\";\n    }\n\n    let url = `/QuanLyKhoaHoc/LayKhoaHocTheoDanhMuc?maDanhMuc=${courseType}&MaNhom=${group}`;\n\n    if (courseType === \"all\") {\n      url = `/QuanLyKhoaHoc/LayDanhSachKhoaHoc?MaNhom=${group}`;\n    }\n\n    if (keyWord) {\n      url = `/QuanLyKhoaHoc/LayDanhSachKhoaHoc?tenKhoaHoc=${keyWord}&MaNhom=${group}`;\n    }\n\n    axios.get(url).then(response => {\n      // console.log(\"Courses List: \", response.data);\n      dispatch(fetchCoursesSuccess(response.data));\n    }).catch(error => {\n      dispatch(fetchCoursesFail(error));\n    });\n  };\n}; // ----------------- Course Detail ------------------ //\n\nexport const fetchCourseDetailStart = () => {\n  return {\n    type: actionTypes.FETCH_COURSE_DETAIL_START\n  };\n};\nexport const fetchCourseDetailSuccess = courseDetail => {\n  return {\n    type: actionTypes.FETCH_COURSE_DETAIL_SUCCESS,\n    courseDetail: courseDetail\n  };\n};\nexport const fetchCourseDetailFail = error => {\n  return {\n    type: actionTypes.FETCH_COURSE_DETAIL_FAIL,\n    error: error\n  };\n};\nexport const fetchCourseDetail = courseId => {\n  return dispatch => {\n    dispatch(fetchCourseDetailStart());\n    axios.get(`/QuanLyKhoaHoc/LayThongTinKhoaHoc?maKhoaHoc=${courseId}`).then(response => {\n      dispatch(fetchCourseDetailSuccess(response.data));\n    }).catch(error => {\n      dispatch(fetchCourseDetailFail(error));\n    });\n  };\n}; // ----------------- User Detail ------------------ //\n\nexport const fetchUserDetailStart = () => {\n  return {\n    type: actionTypes.FETCH_USER_DETAIL_FAIL\n  };\n};\nexport const fetchUserDetailSuccess = userDetail => {\n  return {\n    type: actionTypes.FETCH_USER_DETAIL_SUCCESS,\n    userDetail: userDetail\n  };\n};\nexport const fetchUserDetailFail = error => {\n  return {\n    type: actionTypes.FETCH_USER_DETAIL_FAIL,\n    error: error\n  };\n};\nexport const fetchUserDetail = () => {\n  return dispatch => {\n    dispatch(fetchUserDetailStart());\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const url = \"/QuanLyNguoiDung/ThongTinTaiKhoan\";\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${user.accessToken}`\n    };\n    const data = {\n      taiKhoan: user.taiKhoan\n    };\n    axios({\n      method: \"post\",\n      url,\n      headers,\n      data\n    }).then(response => {\n      // console.log(\"User Detail: \", response.data);\n      dispatch(fetchUserDetailSuccess(response.data));\n    }).catch(error => {\n      dispatch(fetchUserDetailFail(error));\n    });\n  };\n};","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/store/actions/courses.js"],"names":["actionTypes","axios","fetchCourseIndexStart","type","FETCH_COURSE_INDEX_START","fetchCourseIndexSuccess","courseIndex","FETCH_COURSE_INDEX_SUCCESS","fetchCourseIndexFail","error","FETCH_COURSE_INDEX_FAIL","fetchCourseIndex","init","dispatch","get","then","response","data","fetchCourses","maDanhMuc","catch","fetchCoursesStart","FETCH_COURSES_START","fetchCoursesSuccess","courseList","FETCH_COURSES_SUCCESS","fetchCoursesFail","FETCH_COURSES_FAIL","courseType","group","keyWord","undefined","url","fetchCourseDetailStart","FETCH_COURSE_DETAIL_START","fetchCourseDetailSuccess","courseDetail","FETCH_COURSE_DETAIL_SUCCESS","fetchCourseDetailFail","FETCH_COURSE_DETAIL_FAIL","fetchCourseDetail","courseId","fetchUserDetailStart","FETCH_USER_DETAIL_FAIL","fetchUserDetailSuccess","userDetail","FETCH_USER_DETAIL_SUCCESS","fetchUserDetailFail","fetchUserDetail","user","JSON","parse","localStorage","getItem","headers","Authorization","accessToken","taiKhoan","method"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"../../axios\";\r\n\r\n// ----------------- Course Index ------------------ //\r\nexport const fetchCourseIndexStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_INDEX_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseIndexSuccess = (courseIndex) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_INDEX_SUCCESS,\r\n    courseIndex: courseIndex,\r\n  };\r\n};\r\n\r\nexport const fetchCourseIndexFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_INDEX_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseIndex = (init) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseIndexStart());\r\n    axios\r\n      .get(\"/QuanLyKhoaHoc/LayDanhMucKhoaHoc\")\r\n      .then((response) => {\r\n        dispatch(fetchCourseIndexSuccess(response.data));\r\n        if (init) {\r\n          dispatch(fetchCourses(response.data[0].maDanhMuc));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseIndexFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n// ----------------- Courses List ------------------ //\r\nexport const fetchCoursesStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSES_START,\r\n  };\r\n};\r\n\r\nexport const fetchCoursesSuccess = (courseList) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSES_SUCCESS,\r\n    courseList: courseList,\r\n  };\r\n};\r\n\r\nexport const fetchCoursesFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSES_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourses = (courseType, group, keyWord) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCoursesStart());\r\n    if (group === undefined) {\r\n      group = \"GP08\";\r\n    }\r\n    let url = `/QuanLyKhoaHoc/LayKhoaHocTheoDanhMuc?maDanhMuc=${courseType}&MaNhom=${group}`;\r\n    if (courseType === \"all\") {\r\n      url = `/QuanLyKhoaHoc/LayDanhSachKhoaHoc?MaNhom=${group}`;\r\n    }\r\n    if (keyWord) {\r\n      url = `/QuanLyKhoaHoc/LayDanhSachKhoaHoc?tenKhoaHoc=${keyWord}&MaNhom=${group}`;\r\n    }\r\n\r\n    axios\r\n      .get(url)\r\n      .then((response) => {\r\n        // console.log(\"Courses List: \", response.data);\r\n        dispatch(fetchCoursesSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCoursesFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n// ----------------- Course Detail ------------------ //\r\nexport const fetchCourseDetailStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_DETAIL_START,\r\n  };\r\n};\r\n\r\nexport const fetchCourseDetailSuccess = (courseDetail) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_DETAIL_SUCCESS,\r\n    courseDetail: courseDetail,\r\n  };\r\n};\r\n\r\nexport const fetchCourseDetailFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_COURSE_DETAIL_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCourseDetail = (courseId) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCourseDetailStart());\r\n    axios\r\n      .get(`/QuanLyKhoaHoc/LayThongTinKhoaHoc?maKhoaHoc=${courseId}`)\r\n      .then((response) => {\r\n        dispatch(fetchCourseDetailSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCourseDetailFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n// ----------------- User Detail ------------------ //\r\nexport const fetchUserDetailStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DETAIL_FAIL,\r\n  };\r\n};\r\n\r\nexport const fetchUserDetailSuccess = (userDetail) => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DETAIL_SUCCESS,\r\n    userDetail: userDetail,\r\n  };\r\n};\r\n\r\nexport const fetchUserDetailFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DETAIL_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchUserDetail = () => {\r\n  return (dispatch) => {\r\n    dispatch(fetchUserDetailStart());\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const url = \"/QuanLyNguoiDung/ThongTinTaiKhoan\";\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${user.accessToken}`,\r\n    };\r\n    const data = {\r\n      taiKhoan: user.taiKhoan,\r\n    };\r\n\r\n    axios({ method: \"post\", url, headers, data })\r\n      .then((response) => {\r\n        // console.log(\"User Detail: \", response.data);\r\n        dispatch(fetchUserDetailSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchUserDetailFail(error));\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}