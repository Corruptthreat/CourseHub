{"ast":null,"code":"import _objectWithoutProperties from\"/home/sudo-byte/CourseHub-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{Fragment,useEffect}from\"react\";import{Route,Switch}from\"react-router-dom\";import{connect}from\"react-redux\";import*as actions from\"./store/actions\";import UserLayout from\"./hoc/Layout/UserLayout\";import Dashboard from\"./containers/Dashboard/Dashboard\";import Courses from\"./containers/Courses/Courses\";import MyCourses from\"./containers/Courses/MyCourses\";import Auth from\"./containers/Auth/Auth\";import CourseDetail from\"./components/CourseList/CourseDetail/CourseDetail\";import Logout from\"./containers/Auth/Logout/Logout\";import UsersManager from\"./containers/UsersManager/UsersManager\";import CoursesManager from\"./containers/CoursesManager/CoursesManager\";import PageNotFound from\"./containers/PageNotFound/PageNotFound\";import About from\"./containers/Auth/About/About\";var RouteUser=function RouteUser(_ref){var Component=_ref.Component,props=_objectWithoutProperties(_ref,[\"Component\"]);return/*#__PURE__*/React.createElement(Route,Object.assign({},props,{render:function render(){return/*#__PURE__*/React.createElement(UserLayout,null,/*#__PURE__*/React.createElement(Component,null));}}));};var RouteAdmin=function RouteAdmin(_ref2){var Component=_ref2.Component,isAdmin=_ref2.isAdmin,props=_objectWithoutProperties(_ref2,[\"Component\",\"isAdmin\"]);return/*#__PURE__*/React.createElement(Route,Object.assign({},props,{render:function render(){return isAdmin?/*#__PURE__*/React.createElement(UserLayout,null,/*#__PURE__*/React.createElement(Component,null)):/*#__PURE__*/React.createElement(PageNotFound,null);}}));};var App=function App(_ref3){var onTryAutoSignup=_ref3.onTryAutoSignup;var user=JSON.parse(localStorage.getItem(\"user\"));var isAdmin=user&&user.maLoaiNguoiDung===\"GV\";useEffect(function(){onTryAutoSignup();},[onTryAutoSignup]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(RouteUser,{path:\"/\",exact:true,Component:Dashboard}),/*#__PURE__*/React.createElement(RouteUser,{path:\"/about\",exact:true,Component:About}),/*#__PURE__*/React.createElement(RouteUser,{path:\"/courses\",exact:true,Component:Courses}),/*#__PURE__*/React.createElement(RouteUser,{path:\"/my-courses\",exact:true,Component:MyCourses}),/*#__PURE__*/React.createElement(RouteUser,{path:\"/courses/:id\",Component:CourseDetail}),/*#__PURE__*/React.createElement(RouteUser,{path:\"/logout\",Component:Logout}),/*#__PURE__*/React.createElement(RouteAdmin,{path:\"/users-management\",Component:UsersManager,isAdmin:isAdmin}),/*#__PURE__*/React.createElement(RouteAdmin,{path:\"/courses-management\",Component:CoursesManager,isAdmin:isAdmin}),/*#__PURE__*/React.createElement(Route,{path:\"/sign-in\",component:Auth}),/*#__PURE__*/React.createElement(Route,{path:\"/sign-up\",component:Auth}),/*#__PURE__*/React.createElement(Route,{path:\"\",component:PageNotFound})));};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.token!==null};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onTryAutoSignup:function onTryAutoSignup(){return dispatch(actions.authCheckState());}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/home/sudo-byte/CourseHub-master/src/App.js"],"names":["React","Fragment","useEffect","Route","Switch","connect","actions","UserLayout","Dashboard","Courses","MyCourses","Auth","CourseDetail","Logout","UsersManager","CoursesManager","PageNotFound","About","RouteUser","Component","props","RouteAdmin","isAdmin","App","onTryAutoSignup","user","JSON","parse","localStorage","getItem","maLoaiNguoiDung","mapStateToProps","state","isAuthenticated","auth","token","mapDispatchToProps","dispatch","authCheckState"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"./store/actions\";\n\nimport UserLayout from \"./hoc/Layout/UserLayout\";\n\nimport Dashboard from \"./containers/Dashboard/Dashboard\";\nimport Courses from \"./containers/Courses/Courses\";\nimport MyCourses from \"./containers/Courses/MyCourses\";\nimport Auth from \"./containers/Auth/Auth\";\nimport CourseDetail from \"./components/CourseList/CourseDetail/CourseDetail\";\nimport Logout from \"./containers/Auth/Logout/Logout\";\nimport UsersManager from \"./containers/UsersManager/UsersManager\";\nimport CoursesManager from \"./containers/CoursesManager/CoursesManager\";\nimport PageNotFound from \"./containers/PageNotFound/PageNotFound\";\nimport About from \"./containers/Auth/About/About\";\n\nconst RouteUser = ({ Component, ...props }) => {\n  return (\n    <Route\n      {...props}\n      render={() => (\n        <UserLayout>\n          <Component />\n        </UserLayout>\n      )}\n    />\n  );\n};\n\nconst RouteAdmin = ({ Component, isAdmin, ...props }) => {\n  return (\n    <Route\n      {...props}\n      render={() =>\n        isAdmin ? (\n          <UserLayout>\n            <Component />\n          </UserLayout>\n        ) : (\n          <PageNotFound />\n        )\n      }\n    />\n  );\n};\n\nconst App = ({ onTryAutoSignup }) => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const isAdmin = user && user.maLoaiNguoiDung === \"GV\";\n\n  useEffect(() => {\n    onTryAutoSignup();\n  }, [onTryAutoSignup]);\n\n  return (\n    <Fragment>\n      <Switch>\n        {/* With Layout */}\n        <RouteUser path=\"/\" exact Component={Dashboard} />\n        <RouteUser path=\"/about\" exact Component={About} />\n        <RouteUser path=\"/courses\" exact Component={Courses} />\n        <RouteUser path=\"/my-courses\" exact Component={MyCourses} />\n        <RouteUser path=\"/courses/:id\" Component={CourseDetail} />\n        <RouteUser path=\"/logout\" Component={Logout} />\n        <RouteAdmin\n          path=\"/users-management\"\n          Component={UsersManager}\n          isAdmin={isAdmin}\n        />\n        <RouteAdmin\n          path=\"/courses-management\"\n          Component={CoursesManager}\n          isAdmin={isAdmin}\n        />\n        {/* Without Layout */}\n        <Route path=\"/sign-in\" component={Auth} />\n        <Route path=\"/sign-up\" component={Auth} />\n        {/* Page Not Found */}\n        <Route path=\"\" component={PageNotFound} />\n      </Switch>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}